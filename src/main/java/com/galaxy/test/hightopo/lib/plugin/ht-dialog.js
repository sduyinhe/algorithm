!function(G,l){"use strict";var b="ht",m=G[b],J="px",n="left",z="top",p="bottom",S="right",U="innerHTML",o="className",$="",C="width",V="height",e="string",u="position",Y="absolute",f="0",w="opacity",B="background",r=m.Default,O=r.getInternal(),E=m.Color,i=r.animate,N=r.isTouchable,q=null,x=(Math.sqrt,G.parseInt),W=G.setTimeout,h=(Math.round,E.titleIconBackground),Z=function(E){return typeof E===e||E instanceof String},c=function(){return document},Q=function(l){return c().createElement(l)},R=function(){var V=Q("div");return V.tabIndex=-1,V.style.outline="none",V},I=function(){return Q("canvas")},j=function(V,Q){T(V,"-webkit-transform",Q),T(V,"-ms-transform",Q),T(V,"transform",Q)},T=function(F,i,_){F.style.setProperty(i,_,q)},F=function(x,N,U){r.def(m.widget[x],N,U)},P=function(B,l){B.appendChild(l)},M=function(b,Q){b.removeChild(Q)},y=function(){return c().body},d=function(){return c().documentElement},K=function(){return d().clientWidth},t=function(){return d().clientHeight},D=function(R,s,v,_){R.addEventListener(s,v,!!_)},a=function(l){var p=l.touches[0];return p?p:l.changedTouches[0]};O.addMethod(r,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:h},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:h}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:h},{type:"rect",rect:[10,10,80,20],background:h}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:h},{type:"rect",rect:[10,34,56,14],background:h},{type:"rect",rect:[34,10,56,14],background:h},{type:"rect",rect:[82,10,8,56],background:h},{type:"rect",rect:[66,62,24,8],background:h}]},dialogTitleLabelColor:r.labelSelectColor,dialogTitleLabelFont:(N?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:r.labelFont,dialogTitleBackground:E.titleBackground,dialogHeaderBackground:E.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var k=function(w){var A=this;A.$1d=w,A.addListeners()};r.def(k,l,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(y){var z=this,A=z.$1d,B=A.$6d,Z=A._config,D=A.$7d,E=y,$=y.target;if(D.contains($)||r.preventDefault(y),r.isLeftButton(y)){N&&(E=a(y));var q=z.$8d={x:E.pageX,y:E.pageY};z.$9d={x:q.x,y:q.y},!Z.maximized&&Z.draggable&&B.contains($)&&(z.$4d=!0,r.startDragging(z,y)),z.handle_mousemove(y)&&(z.$2d=!0,r.startDragging(z,y)),D.contains(y.target)||A.$41d.focus()}},handle_mousedown:function(y){this.handle_touchstart(y)},handle_touchend:function(Y){if(r.isLeftButton(Y)&&!this.$5d&&!this.$3d){var C=this,T=C.$1d,y=Y.target,f=T._config,N=T.$18d,K=T.$16d;for(f.closable&&N.contains(y)&&T.hide(),f.maximizable&&K.contains(y)&&(f.maximized?T.restore():T.maximize());y&&(y.className||"").indexOf("dialog-button")<0;)y=y.parentNode;y&&y.buttonItem&&T.action&&T.action(y.buttonItem,Y),delete C.$8d,delete C.$9d}},handle_mouseup:function(j){this.handle_touchend(j)},handleWindowTouchEnd:function(n){var I=this,N=I.$1d,F=N.$10d;I.$2d&&I.$3d?F.fire({kind:"endResize",target:N,originEvent:n}):I.$4d&&I.$5d&&F.fire({kind:"endMove",target:N,originEvent:n}),this.clear()},handleWindowMouseUp:function(t){this.handleWindowTouchEnd(t)},handle_mousemove:function(J){var u=this.$1d._config;if(u.maximized)return!1;if("w"!==u.resizeMode&&"h"!==u.resizeMode&&"wh"!==u.resizeMode)return!1;var b=this,z=b.getView(),k=z.querySelector(".resize-area"),X=k.getBoundingClientRect(),W={x:X.left,y:X.top,width:X.width,height:X.height};J=N?a(J):J;var t=J.clientX,Q=J.clientY,P={x:t,y:Q};return r.containsPoint(W,P)?(T(z,"cursor","nwse-resize"),!0):(T(z,"cursor",$),void 0)},handleWindowTouchMove:function(W){W.preventDefault();var Q=W;N&&(Q=a(W));var u=this,U=u.$8d,i=u.$9d;if(!(i.x==U.x&&i.y==U.y&&r.getDistance(i,{x:Q.pageX,y:Q.pageY})<=1)){var y=u.$1d,$=y._config,O=y.$21d,C=$.resizeMode||"wh",I=Q.pageX-U.x,Y=Q.pageY-U.y;if(u.$2d){var d=O.offsetWidth,R=O.offsetHeight,b=d+I,g=R+Y;if(b=Math.max(b,50),g=Math.max(g,50),"center"===$.position||$.position==q){var Z={},H=O.getBoundingClientRect();Z.x=H.left,Z.y=H.top,$.position=Z}"w"===C?(y.setSize(b,R),U.x+=b-d):"h"===C?(y.setSize(d,g),U.y+=g-R):"wh"===C&&(y.setSize(b,g),U.x+=b-d,U.y+=g-R),u.$3d?y.$10d.fire({kind:"betweenResize",target:y,originEvent:W}):(u.$3d=!0,y.$10d.fire({kind:"beginResize",target:y,originEvent:W}))}else if(u.$4d){var B=O.getBoundingClientRect(),E=B.width,v=B.height,h=K(),k=t(),D=x(O.style.left)||0,F=x(O.style.top)||0,_=D+I,w=F+Y;_+E>h&&(_=h-E),w+v>k&&(w=k-v),0>_&&(_=0),0>w&&(w=0);var m=_-D,e=w-F;T(O,n,_+J),T(O,z,w+J),U.x+=m,U.y+=e,$.position={x:_,y:w},u.$5d?y.$10d.fire({kind:"betweenMove",target:y,originEvent:W}):(u.$5d=!0,y.$10d.fire({kind:"beginMove",target:y,originEvent:W}))}}},handleWindowMouseMove:function(W){this.handleWindowTouchMove(W)},handleWindowResize:function(){var w=this,e=w,Y=e._config,B=e.$21d,u=K(),Z=t(),g=Y.width,v=Y.height,M=Y.position||"center";Y.maximized?(T(B,C,u+J),T(B,V,Z+J),T(B,z,f),T(B,n,f)):(T(B,C,g+J),T(B,V,v+J),"center"===M?(T(B,n,(u-g)/2+J),T(B,z,(Z-v)/2+J)):(T(B,n,M.x+J),T(B,z,M.y+J)))},handle_mousewheel:function(E){E.stopPropagation()},handle_DOMMouseScroll:function(O){O.stopPropagation()}}),m.widget.Dialog=function(b){var _=this,L=_._view=O.createView(null,_);L[o]="ht-widget-dialog",T(L,u,Y),r.baseZIndex!=q&&T(L,"z-index",r.baseZIndex+"");var C=_.$11d=new k(_);_.bindingHandleWindowResize=C.handleWindowResize.bind(_),_.$10d=new m.Notifier,b&&_.setConfig(b)},F("Dialog",l,{ms_v:1,setTitle:function(w){this._config.title=w,this.getView().querySelector(".dialog-container-title span").innerHTML=w},$31d:function(){var Z=this,m=Z.$6d=R(),A=Z._config,z=Z.$12d=Z.$13d();m[o]="dialog-container-title",T(m,"cursor","default"),T(m,"white-space","nowrap"),T(m,"overflow","hidden"),T(m,"font",r.dialogTitleLabelFont),T(m,B,A.titleBackground||r.dialogTitleBackground),T(m,"color",A.titleColor||r.dialogTitleLabelColor);var v=Q("span"),O=Z.$25d();if(A.titleAlign&&T(m,"text-align",A.titleAlign),A.titleIcon){var W=Z.$14d=Z.$15d();P(m,W)}if(v[U]=A.title,P(m,v),A.maximizable){var N=Z.$16d=Z.$17d();P(z,N)}if(A.closable){var h=Z.$18d=Z.$19d();P(z,h)}return P(m,z),T(m,"display","block"),T(m,"line-height",O+J),m},$13d:function(){var b=R();return T(b,u,Y),T(b,n,f),T(b,S,5+J),T(b,z,f),T(b,p,f),T(b,"text-align",S),T(b,"white-space","nowrap"),b[o]="dialog-title-controls",b},$20d:function(){var A=this.$21d=R(),F=this._config,x=F.borderWidth;return T(A,u,"fixed"),T(A,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),T(A,"padding",f+" "+x+J+" "+x+J+" "+x+J),T(A,"box-sizing","border-box"),T(A,"-moz-box-sizing","border-box"),A[o]="dialog-container",T(A,B,F.titleBackground||r.dialogTitleBackground),A},$22d:function(){var b,t=this,l=t._config,F=t.$7d=R(),B=l.content,$=0,_=l.contentPadding||0;l.buttons!=q&&l.buttons.length>0&&($=32),Z(B)?F[U]=B:B.getView?(b=B.getView(),P(F,b)):(b=B,P(F,b)),T(F,u,Y),T(F,"font",r.dialogContentLabelFont),P(y(),F);var L=F.offsetWidth+1,G=F.offsetHeight,j=t.$25d();return l.width==q&&(l.width=L+10+2*_),l.height==q&&(l.height=G+j+$+5+2*_),M(y(),F),b&&(T(b,"box-sizing","border-box"),T(b,"-moz-box-sizing","border-box"),T(b,C,"100%"),T(b,V,"100%")),F[o]="dialog-content",T(F,z,j+_+J),T(F,p,$+_+J),T(F,n,_+J),T(F,S,_+J),T(F,"overflow","hidden"),F},$23d:function(){var U=this.$41d=R();return U[o]="dialog-overlay",T(U,C,"100%"),T(U,V,"100%"),T(U,u,"fixed"),T(U,z,f),T(U,n,f),T(U,B,"rgba(235, 235, 235, 0.7)"),U},_config:q,setSize:function(I,w){var p=this,X=p._config;X&&(X.width=I,X.height=w,p.isShowing()&&(p.bindingHandleWindowResize(),p.iv()))},getConfig:function(){return this._config},$24d:function(){var C=this._config,s=C.titleIconSize||16;return N&&(s*=1.2),s},$25d:function(){var x=this._config,e=x.titleHeight||r.widgetTitleHeight;return e},$26d:function(W){T(W,"cursor","pointer"),T(W,"display","inline-block"),T(W,"margin-right",(N?8:4)+J),T(W,"vertical-align",z)},$27d:function(){var G=this.$30d=R(),U=10;return N&&(U=20),T(G,C,U+J),T(G,V,U+J),T(G,u,Y),T(G,p,f),T(G,S,f),G[o]="resize-area",G},$15d:function(){var Q=this,$=I();$[o]="dialog-title-control dialog-title-control-icon";var U=Q.$25d(),K=Q.$24d();return Q.$26d($),O.setCanvas($,K,U),$},$17d:function(){var F=I();F[o]="dialog-title-control dialog-title-control-maximize";var U=this.$25d(),c=this.$24d();return this.$26d(F),O.setCanvas(F,c,U),F},$19d:function(){var U=I();U[o]="dialog-title-control dialog-title-control-close";var Y=this.$25d(),l=this.$24d();return this.$26d(U),O.setCanvas(U,l,Y),U},$28d:function(){var K=R();return T(K,B,"white"),T(K,C,"100%"),T(K,V,"100%"),T(K,u,"relative"),K},$29d:function(){var D=this,G=R();T(G,"line-height",32+J),T(G,u,Y),T(G,p,f),T(G,n,f),T(G,"white-space","nowrap"),T(G,"overflow","hidden"),T(G,S,f),T(G,B,r.dialogHeaderBackground),G[o]="dialog-container-buttons";var k=this._config,b=k.buttonsAlign||S,a=0;return T(G,"text-align",b),D.$42d=[],k.buttons.forEach(function(g){var Q=new m.widget.Button,k=Q.getView();k[o]="dialog-button",k.buttonItem=g,D.$42d.push(Q),Q.setBorderColor(q),Q.setBackground(r.dialogButtonBackground),Q.setSelectBackground(r.dialogButtonSelectBackground),Q.setLabelColor(r.dialogButtonLabelColor),T(k,u,"static"),T(k,"display","inline-block"),T(k,"text-align",n),T(k,"height",24+J);var i=N?10:5;b===n||b===S?T(k,"margin-"+b,i+J):0===a||T(k,"margin-"+n,i+J),T(k,"vertical-align","middle");var I=r.getTextSize(Q.getLabelFont(),g.label).width+10;Q.onClicked=function(w){g.action&&g.action.call(D,g,w)},Q.setLabel(g.label),T(k,C,I+J),P(G,Q.getView()),a++}),G},setConfig:function(w){if(w){var T=this,c=T._view;T._config=w,T.action=w.action,c[U]=$,w.borderWidth==q&&(w.borderWidth=5);var X=T.$23d(),s=T.$28d(),h=T.$31d(),u=T.$22d(),n=T.$20d(),C=T.$30d=T.$27d();if(P(c,X),P(c,n),P(n,s),P(s,h),P(s,u),w.buttons!=q&&w.buttons.length>0){var D=T.$29d();P(s,D)}P(n,C),w.maximized?(w.maximized=!1,T.bindingHandleWindowResize(),T.maximize(!0)):T.bindingHandleWindowResize(),T.isShowing()&&T.iv()}},hide:function(){var c=this,E=c.$21d,V=c.$41d,m=c._view;m[o]="ht-widget-dialog",i(E).duration(200).scale(.7).set(w,f).end(function(){c.onHidden&&c.onHidden(),M(y(),m),c.$10d.fire({kind:"hide",target:c})}),i(V).duration(200).set(w,f).end(),G.removeEventListener("resize",c.bindingHandleWindowResize)},isShowing:function(){return y().contains(this._view)},$32d:function(){var s=this,J=s._config,p=s.$21d;j(p,$),s.iv(),J.maximized?s.$10d.fire({kind:"maximize",target:s}):s.$10d.fire({kind:"restore",target:s})},maximize:function(H){var P=this,A=P.$21d,l=P._config;if(!l.maximized){l.maximized=!0,P.$33d(),P.$16d[o]="dialog-title-control dialog-title-control-minimize";var Z=K(),s=t(),p=l.width,u=l.height,S=x(A.style.left)||0,B=x(A.style.top)||0;P.$36d=p,P.$37d=u,P.$34d=S,P.$35d=B;var r=H?0:200;i(A).duration(r).set(n,f).set(z,f).set(C,Z+J).set(V,s+J).end(function(){P.$32d()})}},restore:function(){var b=this,k=b.$34d,e=b.$35d,c=b.$36d,D=b.$37d,t=b._config;if(t.maximized&&(t.maximized=!1,b.$33d(),b.$16d[o]="dialog-title-control dialog-title-control-maximize",b.isShowing()&&k!=q&&e!=q&&c!=q&&D!=q)){var f=b.$21d;i(f).duration(200).set(n,k+J).set(z,e+J).set(C,c+J).set(V,D+J).end(function(){b.$32d()})}delete b.$34d,delete b.$35d,delete b.$36d,delete b.$37d},show:function(){var B=this,F=B._view,s=B._config,g=B.$21d,U=B.$41d;s&&s.zIndex!=q&&T(F,"z-index",s.zIndex+$),P(y(),F),j(g,"scale(0.7)"),T(g,w,f),B.iv(),B.validate(),B._view[o]+=" dialog-show",W(function(){i(g).duration(200).scale(1).set(w,"1").end(function(){T(g,C,g.clientWidth+J),T(g,V,g.clientHeight+J),B.onShown&&B.onShown(),B.$10d.fire({kind:"show",target:B})}),i(U).duration(200).set(w,"1").end(),D(G,"resize",B.bindingHandleWindowResize)},30)},addEventListener:function(M,t,U){this.$10d.add(M,t,U)},removeEventListener:function(I,q){this.$10d.remove(I,q)},$38d:function(U,u,B,M){var p=O.initContext(U);O.translateAndScale(p,0,0,1),p.clearRect(0,0,B,B);var X=(B-M)/2;r.drawStretchImage(p,r.getImage(u),"fill",0,X,M,M),p.restore()},$33d:function(){var Y=this,k=Y._config,o=Y.$16d,e=k.maximized?r.dialogRestoreIcon:r.dialogMaximizeIcon;if(o&&e){var p=Y.$25d(),W=Y.$24d();Y.$38d(o,r.getImage(e),p,W)}},$39d:function(){var h=this,o=h._config,Z=h.$14d,S=o.titleIcon;if(Z&&S){var Y=h.$25d(),i=h.$24d();h.$38d(Z,r.getImage(S),Y,i)}},$40d:function(){var Y=this,W=Y.$18d,w=r.dialogCloseIcon;if(W&&w){var C=Y.$25d(),_=Y.$24d();Y.$38d(W,r.getImage(w),C,_)}},invalidate:function(Z){var M=this,t=M.$42d;M._68I||(M._68I=1,r.callLater(M.validate,M,q,Z),M.onInvalidated&&M.onInvalidated(),M._41O("invalidate"));var R=M._config.content;R.invalidate&&R.invalidate(),t&&t.forEach(function(p){p.iv()})},validateImpl:function(){var n=this;n.$40d(),n.$33d(),n.$39d()}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);