!function(o,H,Z){"use strict";var N="ht",h=o[N],W=h.Default,U=W.isTouchable,l=h.Color,D="px",P="0",t="innerHTML",p="className",B="position",F="absolute",X="width",C="height",Q="left",v="top",b="right",c="bottom",s="max-width",m="max-height",V=null,g="none",f="",R=o.parseInt,z=o.setTimeout,G=W.getInternal(),_=W.animate,T=l.titleIconBackground,Y=function(){return document},u=function(R){return Y().createElement(R)},d=function(){return u("div")},S=function(){return u("canvas")},M=function(x,I,i){x.style.setProperty(I,i,V)},k=function(J,m){return J.style.getPropertyValue(m)},O=function(B,H){B.appendChild(H)},i=function(J,q){J.removeChild(q)},E=function(S){var h=S.scrollWidth,A=S.scrollHeight;return S===Y().body&&(h=Math.max(h,Y().documentElement.scrollWidth),A=Math.max(A,Y().documentElement.scrollHeight)),{width:h,height:A}},e=function(y){var t=y.touches[0];return t?t:y.changedTouches[0]};G.addMethod(W,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:T,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:T}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:T},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:T}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:T},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:T}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:T}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:T},{type:"rect",rect:[10,118,268,56],background:T},{type:"rect",rect:[10,213,268,56],background:T}]},panelTitleLabelColor:W.labelSelectColor,panelTitleLabelFont:W.labelFont,panelContentLabelFont:W.labelFont,panelTitleBackground:l.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:Z},!0);var K=h.widget.Panel=function(m){var I=this,E=I._view=G.createView(null,I);I.$1i=0,I.$18i=new h.Notifier,I.$2i="leftTop",M(E,v,P),M(E,Q,P),M(E,B,F),M(E,"overflow","hidden"),I._interactor=new r(I),I.setConfig(m),I.addEventListener(function(V){var v=I.getPanelConfig(V.id),y=v.content;("beginRestore"===V.kind||"betweenResize"===V.kind||"endToggle"===V.kind)&&(y&&y.invalidate&&y.invalidate(),v.items&&v.items.forEach(function(y){y&&y.content&&y.content.invalidate&&y.content.invalidate()}))})};W.def(K,H,{ms_v:1,_dragContainment:"parent",setConfig:function(Q){function L(Y){Y.expanded=!Y.expanded,I.togglePanel(Y.id,!0,!0)}if(Q){var I=this;I._view[t]=f,I._config=Q,I.$35i=[],Q.expanded==V&&(Q.expanded=Q.expand!=V?Q.expand:!0);var K=I._view,J=I.$24i(Q,K,!0),h=J[2],A=Q.width;I.$35i.push(J[1]),Q.items&&Q.items.forEach(function($){$.expanded==V&&($.expanded=$.expand!=V?$.expand:!0);var b=I.$24i($,h.children[0]);I.$35i.push(b[1])});var z=d();M(z,X,10+D),M(z,C,10+D),M(z,B,F),M(z,c,P),M(z,b,P),z[p]="resize-area",O(K,z),I.$10i(),Q.flowLayout&&M(K,B,"relative"),M(K,"opacity",P),O(Y().body,K),A==V&&(A=K.offsetWidth),M(K,X,A+D),M(K,s,A+D),Q.items&&Q.items.forEach(function(o){L(o)}),Q.buttons&&Q.buttons.indexOf("toggle")<0||L(Q),Q.minimized==V&&Q.minimize!=V&&(Q.minimized=Q.minimize),Q.minimized&&Q.minimizable!==!1&&I.minimize(!0),i(Y().body,K),M(K,"opacity",f),I.iv()}},getPanelConfig:function(P){var Y=this,w=Y._config,e=w.items;if(w.id===P)return w;if(e)for(var h=0;h<e.length;h++){var x=e[h];if(x.id===P)return x}},getPanelView:function(r){for(var b=this,K=b.$35i,L=0;L<K.length;L++){var A=K[L],E=A.parentNode;if(E.$15i===r)return E}},setDragContainment:function(P){this._dragContainment=P},getDragContainment:function(){return this._dragContainment},$20i:function(){var v=this._config,o=v.restoreIconSize||24;return o},$5i:function(D){var T=D.titleIconSize||16;return U&&(T*=1.2),T},$4i:function(G){var I=G.titleHeight||W.widgetTitleHeight;return I},setTitle:function(K,t){if(t==V&&(t=this._config.id),t!=V){var J=this.getPanelConfig(t),W=this.getPanelView(t);J.title=K,W.querySelector(".panel-title span").innerHTML=K}},setInnerPanel:function(f){var c,J,K=this,C=f.id,y=K.$35i,P=!1;if(f.expanded==V&&(f.expanded=!0),C!=V){var $=K.getPanelConfig(C);if($){P=!0;var R,N=K.getPanelView(C),u=N.parentNode,Z=N.children[0];if(N!==K._view){K.$11i();for(R in $)delete $.key;for(R in f)$[R]=f[R];c=K.$24i(f,u,!1,N),J=c[1],u.removeChild(N);for(var e=0;e<y.length;e++)if(y[e]===Z){y.splice(e,1,J);break}K.$12i(),$.expanded=!$.expanded,K.togglePanel($.id,!0,!0),K.iv()}}}if(!P){K.$11i(),c=K.$24i(f,K._view.children[1]),J=c[1],y.push(J),K._config.items||(K._config.items=[]);var h=K._config.items;if(h.push(f),K.$12i(),h.length>1){var E=h[h.length-2],O=K.getPanelView(E.id).children[0];M(O,"border-bottom",K.$55i(E))}f.expanded=!f.expanded,K.togglePanel(f.id,!0,!0),K.iv()}},removeInnerPanel:function(l){var P,r=this,p=-1,$=r._config.items;if($)for(P=0;P<$.length;P++){var X=$[P];if(X.id===l){p=P;break}}if(r.$11i(),p>=0){var o=r.$35i,F=r.getPanelView(l),D=F.children[0];for(P=0;P<o.length;P++)if(o[P]===D){o.splice(P,1);break}$.splice(p,1),F.parentNode.removeChild(F)}if(r.$12i(),$.length>0){var T=$[$.length-1],k=r.getPanelView(T.id).children[0];M(k,"border-bottom",r.$55i(T))}},$6i:function(s){M(s,"cursor","pointer"),M(s,"display","inline-block"),M(s,"margin-right",(U?8:4)+D),M(s,"vertical-align",v)},$24i:function(I,J,N,H){var A=this,k=A._config.flowLayout,x=N?J:d(),f=A.$50i(I),E=A.$3i(I,N);x[p]="ht-widget-panel"+(N?" outer-panel":" inner-panel"),I.borderWidth==V&&(I.borderWidth=N?2:0);var c=I.borderWidth;if(c="0 "+c+D+" "+c+D+" "+c+D+" ",M(x,"padding",c),O(x,E),O(x,f),N||(H?J.insertBefore(x,H):O(J,x)),!k&&N&&I.minimizable!==!1){var Q=S(),i=A.$20i(),e=I.restoreToolTip;G.setCanvas(Q,i,i),Q[p]="control-button button-minimize button-minimize-restore",A.$6i(Q),M(Q,"display","none"),O(J,Q),Q.title=e||""}var o=I.titleBackground||W.panelTitleBackground;if(M(x,"background-color",o),I.id==V){for(var j=A.$1i++;A.getPanelConfig(j);)j=A.$1i++;I.id=j}return x.$15i=I.id,I.width&&(x.style.width=I.width+D),[x,E,f]},$9i:function(r){var w=S();w[p]="control-button button-toggle button-toggle-expand",w.title=r.toggleToolTip||"";var l=this.$4i(r),I=this.$5i(r);return this.$6i(w),G.setCanvas(w,I,l),w},$8i:function(a){var E=S(),Z="control-button button-independent-switch";E[p]=a.independent===!0?Z+" button-independent-switch-on":Z+" button-independent-switch-off",E.title=a.independentSwitchToolTip||"";var L=this.$4i(a),s=this.$5i(a);return this.$6i(E),G.setCanvas(E,s,L),E},$7i:function(A){var W=S();W[p]="control-button button-minimize button-minimize-minimize",W.title=A.minimizeToolTip||"";var M=this.$4i(A),P=this.$5i(A);return this.$6i(W),G.setCanvas(W,P,M),W},$55i:function(P){var H=this._config,f=H.items,E=P.separatorWidth||W.panelSeparatorWidth,S=P.titleBackground||W.panelTitleBackground,i=P.expanded!==!1?S:P.separatorColor||W.panelSeparatorColor||W.brighter(S);return(H===P||f&&f.indexOf(P)===f.length-1)&&(E=0),E+D+" solid "+i},$3i:function(r,w){var C=this,U=C._config.flowLayout,g=d(),Z=d(),m=C.$4i(r),j=r.titleBackground,K=r.titleColor,L=r.titleIcon,s=r.buttons;if(g[p]="panel-title",M(g,B,"relative"),M(g,"background",j||W.panelTitleBackground),M(g,"color",K||W.panelTitleLabelColor),M(g,v,P),M(g,"box-sizing","border-box"),M(g,"-moz-box-sizing","border-box"),M(g,"padding","0 5px 0 0"),M(g,X,"100%"),M(g,"cursor","default"),M(g,"white-space","nowrap"),M(g,"font",W.panelTitleLabelFont),L){var A=S();A[p]="control-button panel-title-icon";var Y=C.$4i(r),x=C.$5i(r);C.$6i(A),G.setCanvas(A,x,Y),O(g,A)}var $=u("span");M($,"display","inline-block"),M($,"margin-left","5px"),$[t]="<span>"+r.title+"</span>",O(g,$),M(g,"line-height",m+D),Z[p]="panel-title-controls",M(Z,B,F),M(Z,Q,P),M(Z,b,5+D),M(Z,v,P),M(Z,c,P),M(Z,"text-align",b);var o=function(){var Q=C.$9i(r);O(Z,Q)},l=function(){if(!U&&w&&r.minimizable!==!1){var M=C.$7i(r);O(Z,M)}},E=function(){if(!w){var S=C.$8i(r);O(Z,S)}},V=function(u){var M=S();M[p]="control-button custombutton-"+u.name,M.title=u.toolTip||"",M._action=u.action;var f=C.$4i(r),o=C.$5i(r);C.$6i(M),G.setCanvas(M,o,f),O(Z,M)};if(s)for(var n=0;n<s.length;n++){var z=s[n];"string"==typeof z?"minimize"===z?l():"independentSwitch"===z?E():"toggle"===z&&o():"object"==typeof z&&V(z)}else l(),o();return O(g,Z),g},$50i:function(I){var q=d(),h=I.contentHeight,J=d();if(M(J,B,"relative"),q[p]="panel-body",M(q,"overflow","hidden"),M(q,"background","white"),M(q,"font",W.panelContentLabelFont),O(q,J),I.content){var w;I.content.getView?(O(J,I.content.getView()),w=J.children[0]):I.content instanceof Element?(O(J,I.content),w=J.children[0]):J[t]=I.content,w&&(M(w,X,"100%"),M(w,C,"100%")),h&&M(J,C,h+D)}return q},$10i:function(){var y=this,H=y._config,c=y._view,V=c.querySelector(".resize-area").style;V.display=H.flowLayout||H.minimized===!0||H.expanded===!1?g:"block"},$11i:function(){var c=this._view,V=c.children[1];this.$13i>=0?this.$13i++:this.$13i=1,M(V,m,f),M(c,s,f)},$12i:function(){var U=--this.$13i;if(0===U){var G=this._view,n=G.children[1];M(n,m,n.scrollHeight+D),M(G,s,G.offsetWidth+D)}},$14i:function(){var M=this._view,R=M.children[0],W=R.children[1].children,x=this._config,O=0;M.$26i=M.offsetWidth,O+=R.children[0].offsetWidth,x.titleIcon&&(O+=R.children[1].offsetWidth,W=R.children[2].children);for(var V=0;V<W.length;V++){var T=W[V];O+=T.offsetWidth+5}M.$51i=O+15},togglePanel:function(I,h,U){function Z(w){var t=w.target,E=t.parentNode,T=b.getPanelConfig(E.$15i);delete E.$19i,t!==u&&b.$12i(),b.$18i.fire({kind:"endToggle",target:b,id:T.id})}for(var b=this,e=b._view,u=e.children[1],z=V,O=b.$35i,t=O.length,F=b._config.exclusive,$=b.$2i,S=[],E=b._config.narrowWhenCollapse,x=0;t>x;x++){var J=O[x],d=J.parentNode,c=d.$15i,N=b.getPanelConfig(c);c===I&&(z=d),!h&&F&&N.expanded&&d!==e&&c!==I&&N.independent!==!0&&S.push(d)}if(z&&!z.$19i){z.$19i=!0;var Q=z.children[1],K=z.querySelector(".button-toggle"),H=b.getPanelConfig(z.$15i);if(!K)return;z===e||H.expanded||H.independent===!0||S.forEach(function(Q){b.togglePanel(Q.$15i,!0)}),z!==e&&b.$11i();var L=200;if(U&&(L=0),b.$18i.fire({kind:"beginToggle",target:b,id:z.$15i}),H.expanded){var C=function(){K[p]="control-button button-toggle",K[p]+=$.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",M(Q,X,Q.clientWidth+D),H.expanded=!1,M(z.children[0],"border-bottom",b.$55i(H)),_(Q).duration(L).set("opacity",P).set(m,P).end(Z),E&&z===e&&_(z).duration(L).set(s,z.$51i+D).end(),z[p]+=" panel-collapse",_(z).duration(L).set("padding-bottom",P).end(),b.$28i(H,!0),b.$10i()};E&&z===e&&b.$14i(),C()}else K[p]="control-button button-toggle",K[p]+=$.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",M(Q,X,f),H.expanded=!0,M(z.children[0],"border-bottom",b.$55i(H)),_(Q).duration(L).set("opacity","1").set(m,Q.scrollHeight+D).end(Z),E&&z===e&&_(z).duration(L).set(s,(z.$26i||z.offsetWidth)+D).end(),z[p]=z[p].replace(" panel-collapse",f),_(z).duration(L).set("padding-bottom",H.borderWidth+D).end(),b.$28i(H,!0),b.$10i()}},$16i:function(){var I=this._view,Y=I.$22i,s=I.$23i,r=this.$2i;return Y==V&&(r.indexOf(Q)>=0?Y=I.$22i=0:r.indexOf(b)>=0&&(Y=I.$22i=100)),s==V&&(r.indexOf("Top")>=0?s=I.$23i=0:r.indexOf("Bottom")>=0&&(s=I.$23i=100)),[Y,s]},$25i:function(){var q=this,w=q._view,u=w.$21i,Z=q.$20i(),z=q.$16i(),O=z[0],n=z[1],C=q.$2i;w.children[0].style.display=g,w.children[1].style.display=g,w.children[2].style.display=f,M(w,"padding",P),M(w,s,Z+D),"leftTop"===C?(M(w,Q,R(k(w,Q))+(u.width-Z)*O/100+D),M(w,v,R(k(w,v))+(u.height-Z)*n/100+D)):"leftBottom"===C?(M(w,Q,R(k(w,Q))+(u.width-Z)*O/100+D),M(w,c,R(k(w,c))+(u.height-Z)*(1-n/100)+D)):"rightTop"===C?(M(w,b,R(k(w,b))+(u.width-Z)*(1-O/100)+D),M(w,v,R(k(w,v))+(u.height-Z)*n/100+D)):"rightBottom"===C&&(M(w,b,R(k(w,b))+(u.width-Z)*(1-O/100)+D),M(w,c,R(k(w,c))+(u.height-Z)*(1-n/100)+D)),w[p]+=" panel-minimized",q.$18i.fire({kind:"endMinimize",target:q,id:w.$15i})},$17i:function(){var L=this,U=L._config,s=L._view;M(s,"-webkit-transform",f),M(s,"-ms-transform",f),M(s,"transform",f),U.minimized?L.$25i():(L.$18i.fire({kind:"endRestore",target:L,id:U.id}),s[p]=s[p].replace(" panel-minimized",f)),delete s.$19i},minimize:function(N){var B=this,D=B._view;if(!D.$19i&&D.children[0].style.display!==g){var z=B._config,x=D.getBoundingClientRect(),s=B.$20i(),t=x.width,R=x.height,T=s/t,I=s/R,Y=B.$16i(),G=Y[0],v=Y[1];D.$52i=T,D.$53i=I,D.$21i=x,B.$18i.fire({kind:"beginMinimize",target:B,id:D.$15i});var h=200;N&&(h=0),z.minimized=!0,D.$19i=!0,z.expanded&&(D.$26i=D.offsetWidth);var E=G+"% "+v+"%";M(D,"-webkit-transform-origin",E),M(D,"-ms-transform-origin",E),M(D,"transform-origin",E),_(D).duration(h).scale(T,I).end(function(){B.$17i()}),B.$10i()}},restore:function(){var h,Z,$,U,B,w,F,y,f,d,K,T,m=this,j=m._view,A=j.parentNode,t=m._config;if(!j.$19i&&t.minimized){var e=j.$21i,P=j.$52i,i=j.$53i,H=t.borderWidth+D,S=H,o=H,I=0,u=m.$20i(),J=E(A),p=m.$2i;"leftTop"===p?(h=R(k(j,Q)),$=R(k(j,v)),B=h,F=$,f=h+e.width-J.width,d=$+e.height-J.height,f>0&&(f>=h?h=0:h-=f),d>0&&(d>=$?$=0:$-=d),K=100*((B-h)/(e.width-u)),T=100*((F-$)/(e.height-u)),M(j,Q,h+D),M(j,v,$+D)):"leftBottom"===p?(h=R(k(j,Q)),U=R(k(j,c)),B=h,y=U,f=h+e.width-J.width,d=U+e.height-J.height,f>0&&(f>=h?h=0:h-=f),d>0&&(d>=U?U=0:U-=d),K=100*((B-h)/(e.width-u)),T=100*(1-(y-U)/(e.height-u)),M(j,Q,h+D),M(j,c,U+D)):"rightTop"===p?(Z=R(k(j,b)),$=R(k(j,v)),w=Z,F=$,f=Z+e.width-J.width,d=$+e.height-J.height,f>0&&(f>=Z?Z=0:Z-=f),d>0&&(d>=$?$=0:$-=d),K=100*(1-(w-Z)/(e.width-u)),T=100*((F-$)/(e.height-u)),M(j,b,Z+D),M(j,v,$+D)):"rightBottom"===p&&(Z=R(k(j,b)),U=R(k(j,c)),w=Z,y=U,f=Z+e.width-J.width,d=U+e.height-J.height,f>0&&(f>=Z?Z=0:Z-=f),d>0&&(d>=U?U=0:U-=d),K=100*(1-(w-Z)/(e.width-u)),T=100*(1-(y-U)/(e.height-u)),M(j,b,Z+D),M(j,c,U+D)),j.children[0].style.display="block",j.children[1].style.display="block",j.children[2].style.display=g,M(j,"padding",I+" "+S+" "+o+" "+H),M(j,"-webkit-transform","scale("+P+", "+i+")"),M(j,"-ms-transform","scale("+P+", "+i+")"),M(j,"transform","scale("+P+", "+i+")"),j.$22i=K,j.$23i=T,M(j,"-webkit-transform-origin",K+"% "+T+"%"),M(j,"-ms-transform-origin",K+"% "+T+"%"),M(j,"transform-origin",K+"% "+T+"%"),t.narrowWhenCollapse&&!t.expanded?M(j,s,j.$51i+D):M(j,s,j.$26i+D),m.$18i.fire({kind:"beginRestore",target:m,id:j.$15i}),j.$19i=!0,t.minimized=!1,z(function(){_(j).scale(1,1).end(function(){m.$17i()})},30),m.$10i()}},addEventListener:function(x,b,u){this.$18i.add(x,b,u)},removeEventListener:function(E,S){this.$18i.remove(E,S)},setPosition:function(T,s){var W=this._view,n=this.$2i;"leftTop"===n?(M(W,Q,T+D),M(W,v,s+D),M(W,b,f),M(W,c,f)):"leftBottom"===n?(M(W,Q,T+D),M(W,c,s+D),M(W,b,f),M(W,v,f)):"rightTop"===n?(M(W,b,T+D),M(W,v,s+D),M(W,Q,f),M(W,c,f)):"rightBottom"===n&&(M(W,b,T+D),M(W,c,s+D),M(W,Q,f),M(W,v,f)),delete W.$22i,delete W.$23i},getPosition:function(){var T=this._view,z=this.$2i;return"leftTop"===z?{x:R(k(T,Q)),y:R(k(T,v))}:"leftBottom"===z?{x:R(k(T,Q)),y:R(k(T,c))}:"rightTop"===z?{x:R(k(T,b)),y:R(k(T,v))}:"rightBottom"===z?{x:R(k(T,b)),y:R(k(T,c))}:void 0},setPositionRelativeTo:function(F){var y=this,x=y._view.querySelectorAll(".button-toggle"),R="control-button button-toggle",e=y.getPosition();y.$2i=F,y.setPosition(e.x,e.y);for(var r=0;r<x.length;r++){var g=x[r],L=y.getPanelConfig(g.parentNode.parentNode.parentNode.$15i);g[p]=L.expanded?F.indexOf("Bottom")>=0?R+" button-toggle-collapse":R+" button-toggle-expand":F.indexOf("Bottom")>=0?R+" button-toggle-expand":R+" button-toggle-collapse"}y.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(U){var G=this;G._68I||(G._68I=1,W.callLater(G.validate,G,V,U),G.onInvalidated&&G.onInvalidated(),G._41O("invalidate"));var l=this._config,p=l.content;p&&p.invalidate&&p.invalidate(),l.items&&l.items.forEach(function(w){w&&w.content&&w.content.invalidate&&w.content.invalidate()})},$27i:function(B,m,t,a){var R=G.initContext(B);G.translateAndScale(R,0,0,1),R.clearRect(0,0,t,t);var H=(t-a)/2;W.drawStretchImage(R,W.getImage(m),"fill",0,H,a,a),R.restore()},$28i:function(H){var D,S,O,B=this,u=H.id,x=B.getPanelView(u),K=x.querySelector(".button-toggle"),J=B.$2i.indexOf("Bottom")>=0;if(S=J?W.panelCollapseIcon:W.panelExpandIcon,O=J?W.panelExpandIcon:W.panelCollapseIcon,K){D=H.expanded?W.getImage(O):W.getImage(S);var y=B.$4i(H),Y=B.$5i(H);B.$27i(K,D,y,Y)}},$29i:function(Y){var G,Q=this,L=Y.id,q=Q.getPanelView(L),f=q.querySelector(".button-independent-switch"),o=W.panelUnLockIcon,x=W.panelLockIcon;if(f){G=Y.independent!==!0?W.getImage(x):W.getImage(o);var E=Q.$4i(Y),m=Q.$5i(Y);Q.$27i(f,G,E,m)}},$30i:function(y){var $=this,A=y.id,M=$.getPanelView(A),J=M.querySelector(".button-minimize-minimize"),Q=W.panelMinimizeIcon;if(J){var f=$.$4i(y),o=$.$5i(y);$.$27i(J,W.getImage(Q),f,o)}},$31i:function(H){var e=this,U=H.id,B=e.getPanelView(U),V=B.querySelector(".button-minimize-restore"),n=H.titleIcon||W.panelRestoreIcon;if(V){var A=e.$20i();e.$27i(V,W.getImage(n),A,A)}},$32i:function($){var s=this,w=$.id,f=s.getPanelView(w);if($.buttons){var x=$.buttons;x.forEach(function(V){var w=V.name,G=V.icon;if(w&&G){var L=f.querySelector(".custombutton-"+w);if(L){var o=s.$4i($),b=s.$5i($)-1;s.$27i(L,W.getImage(G),o,b)}}})}},$33i:function(l){var A=this,q=l.id,X=A.getPanelView(q),R=X.querySelector(".panel-title-icon"),Z=l.titleIcon;if(R&&Z){var V=A.$4i(l),p=A.$5i(l);A.$27i(R,W.getImage(Z),V,p)}},validateImpl:function(){var r=this,G=r._config;r.$28i(G),r.$30i(G),r.$31i(G),r.$32i(G),r.$33i(G),G.items&&G.items.forEach(function(L){r.$28i(L),r.$29i(L),r.$32i(L)})}});var r=function(l){var T=this,Z=l.getView();T.$34i=l,T.addListeners(),Z.addEventListener("dblclick",T.$42i.bind(T))};W.def(r,H,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(w){for(var t=this.$34i,c=w.target,v=t.$35i,s=v.length,H=0;s>H;H++){var k=v[H];k.contains(c)&&(w.preventDefault(),t.togglePanel(k.parentNode.$15i))}},handle_touchstart:function(y){var a=this,N=a.$34i,T=N._config,I=T.flowLayout,u=y;if(W.preventDefault(y),W.isLeftButton(y)){var i=y.target,q=N.getView().children[0],H=N.getView().querySelector(".button-minimize-restore");U&&(u=e(y));var w=a.$40i={x:u.pageX,y:u.pageY};a.$41i={x:w.x,y:w.y},(!I&&q.contains(i)||H&&H.contains(i))&&(a.$38i=!0,W.startDragging(a,y)),!I&&a.handle_mousemove(y)&&(a.$37i=!0,W.startDragging(a,y),N.$11i())}},handle_mousedown:function(m){this.handle_touchstart(m)},handle_touchend:function(w){var H=this,N=H.$34i,A=w.target,c=N.$35i,Y=c.length,z=0,J=N.getView(),G=J.querySelector(".button-minimize"),Q=J.querySelector(".button-minimize-restore");if(!H.$39i&&!H.$36i){if(G&&G.contains(A)||Q&&Q.contains(A))w.preventDefault(),N._config.minimized?N.restore():N.minimize();else for(;Y>z;z++){var Z=c[z],x=Z.parentNode,O=x.$15i,K=N.getPanelConfig(O),L=Z.querySelector(".button-toggle"),v=Z.querySelector(".button-independent-switch");if(L===A)w.preventDefault(),N.togglePanel(O);else if(v===A){w.preventDefault();var y="button-independent-switch-off",X="button-independent-switch-on";K.independent=K.independent==V?!0:!K.independent,v[p]=K.independent?v[p].replace(y,X):v[p].replace(X,y),N.$29i(K)}else A[p]&&A[p].indexOf("control-button custombutton-")>=0&&Z.contains(A)&&A._action.call(N,K,N.getPanelView(O),w)}delete H.$40i,delete H.$41i}},handle_mouseup:function(u){this.handle_touchend(u)},handleWindowTouchEnd:function(){var Y=this,h=Y.$34i;Y.$37i&&Y.$36i?(h.$18i.fire({kind:"endResize",target:h,id:h.getView().$15i}),h.$12i()):Y.$38i&&Y.$39i&&h.$18i.fire({kind:"endMove",target:h,id:h.getView().$15i}),this.clear()},handleWindowMouseUp:function(d){this.handleWindowTouchEnd(d)},handle_mousemove:function(j){var H=this,d=H.getView(),o=d.querySelector(".resize-area"),P=o.getBoundingClientRect(),K={x:P.left,y:P.top,width:P.width,height:P.height};j=U?e(j):j;var b=j.clientX,I=j.clientY,A=H.$34i._config;return A.expanded&&A.minimized!==!0&&W.containsPoint(K,{x:b,y:I})?(d.style.cursor="nwse-resize",!0):(d.style.cursor=f,void 0)},handleWindowTouchMove:function(l){l.preventDefault();var z=l;U&&(z=e(l));var a=this,g=a.$40i,Y=a.$41i;if(!(Y.x==g.x&&Y.y==g.y&&W.getDistance(Y,{x:z.pageX,y:z.pageY})<=1)){var n=a.$34i,s=a.getView(),d=s.parentNode,j=n._config,i=j.resizeMode||"wh",u=z.pageX-g.x,S=z.pageY-g.y,A=n.$2i;if(a.$37i){var w=s.children[1].children[0],V=s.clientWidth,o=w.clientHeight,T=V+u,t=o+S;T=Math.max(T,100),t=Math.max(t,100),"w"===i?(M(s,X,T+D),j.width=T,g.x+=T-V,A.indexOf(b)>=0&&M(s,b,R(k(s,b))-(T-V)+D)):"h"===i?(M(w,C,t+D),j.contentHeight=t,g.y+=t-o,A.indexOf("Bottom")>=0&&M(s,c,R(k(s,c))-(t-o)+D)):"wh"===i&&(M(s,X,T+D),M(w,C,t+D),j.width=T,j.contentHeight=t,g.x+=T-V,g.y+=t-o,A.indexOf("right")>=0&&M(s,b,R(k(s,b))-(T-V)+D),A.indexOf("Bottom")>=0&&M(s,c,R(k(s,c))-(t-o)+D)),a.$36i?n.$18i.fire({kind:"betweenResize",target:n,id:n.getView().$15i}):(a.$36i=!0,n.$18i.fire({kind:"beginResize",target:n,id:n.getView().$15i}))}else if(a.$38i){var h,r,B,N,P,_,L,y,m,K,H=s.getBoundingClientRect(),Z=H.width,p=H.height,J=E(d),f=J.width,G=J.height,O=n._dragContainment;"leftTop"===A?(h=R(k(s,Q))||0,B=R(k(s,v))||0,P=h+u,L=B+S,"parent"===O&&(P+Z>f&&(P=f-Z),L+p>G&&(L=G-p),0>P&&(P=0),0>L&&(L=0)),m=P-h,K=L-B,n.setPosition(P,L),g.x+=m,g.y+=K):"rightBottom"===A?(r=R(k(s,b))||0,N=R(k(s,c))||0,_=r-u,y=N-S,"parent"===O&&(0>_&&(_=0),0>y&&(y=0),_+Z>f&&(_=f-Z),y+p>G&&(y=G-p)),m=_-r,K=y-N,n.setPosition(_,y),g.x-=m,g.y-=K):"rightTop"===A?(r=R(k(s,b))||0,B=R(k(s,v))||0,_=r-u,L=B+S,"parent"===O&&(0>_&&(_=0),0>L&&(L=0),_+Z>f&&(_=f-Z),L+p>G&&(L=G-p)),m=_-r,K=L-B,n.setPosition(_,L),g.x-=m,g.y+=K):"leftBottom"===A&&(h=R(k(s,Q))||0,N=R(k(s,c))||0,P=h+u,y=N-S,"parent"===O&&(0>P&&(P=0),0>y&&(y=0),P+Z>f&&(P=f-Z),y+p>G&&(y=G-p)),m=P-h,K=y-N,n.setPosition(P,y),g.x+=m,g.y-=K),a.$39i?n.$18i.fire({kind:"betweenMove",target:n,id:n.getView().$15i}):(a.$39i=!0,n.$18i.fire({kind:"beginMove",target:n,id:n.getView().$15i}))}}},handleWindowMouseMove:function(k){this.handleWindowTouchMove(k)}});var a=h.widget.PanelGroup=function(K){var y=this,q=y._view=G.createView(null,y);q.style.border="1px dashed black",q.style.position="absolute",q.style.background="rgba(120, 120, 120, 0.4)",y.$48i=new h.List,y._tolerance=100,y._config=K||{hGap:0,vGap:0},y.bindHandlePanelMove=y.handlePanelMove.bind(y),y.bindHandlePanelEvent=y.handlePanelEvent.bind(y),y.invalidate()};W.def(a,H,{invalidate:function(){var W=this;W._68I||(W._68I=1,z(function(){W.validate()},50))},validate:function(){if(this._68I){delete this._68I;var q=this.$48i.get(0);if(q){var o=q.getView().parentNode;o&&(this.layoutPanels(o,"leftTop"),this.layoutPanels(o,"rightTop"),this.layoutPanels(o,"leftBottom"),this.layoutPanels(o,"rightBottom"))}}},setLeftTopPanels:function(){var y=this,e=y.$43i,W=y.$48i;e==V&&(e=y.$43i=new h.List);for(var x=0;x<arguments.length;x++){var o=arguments[x];if("string"==typeof o)e.$49i=o;else{if(o._config.flowLayout)continue;o.setPositionRelativeTo("leftTop"),e.contains(o)||e.add(o),W.contains(o)||y.add(o)}}},setRightTopPanels:function(){var C=this,b=C.$44i,_=C.$48i;b==V&&(b=C.$44i=new h.List);for(var O=0;O<arguments.length;O++){var I=arguments[O];if("string"==typeof I)b.$49i=I;else{if(I._config.flowLayout)continue;I.setPositionRelativeTo("rightTop"),b.contains(I)||b.add(I),_.contains(I)||C.add(I)}}},setLeftBottomPanels:function(){var c=this,W=c.$45i,P=c.$48i;W==V&&(W=c.$45i=new h.List);for(var $=0;$<arguments.length;$++){var k=arguments[$];if("string"==typeof k)W.$49i=k;else{if(k._config.flowLayout)continue;k.setPositionRelativeTo("leftBottom"),W.contains(k)||W.add(k),P.contains(k)||c.add(k)}}},setRightBottomPanels:function(){var e=this,f=e.$46i,O=e.$48i;f==V&&(f=e.$46i=new h.List);for(var i=0;i<arguments.length;i++){var G=arguments[i];if("string"==typeof G)f.$49i=G;else{if(G._config.flowLayout)continue;G.setPositionRelativeTo("rightBottom"),f.contains(G)||f.add(G),O.contains(G)||e.add(G)}}},add:function(W){if(!W._config.flowLayout){var t=this,z=t.$48i;z.contains(W)||(W.addEventListener(t.bindHandlePanelMove),W.addEventListener(t.bindHandlePanelEvent),z.add(W))}},remove:function(A){var e=this,W=e.$48i;W.contains(A)&&(A.removeEventListener(e.bindHandlePanelMove),A.removeEventListener(e.bindHandlePanelEvent),W.remove(A),e.$43i.contains(A)&&e.$43i.remove(A),e.$44i.contains(A)&&e.$44i.remove(A),e.$45i.contains(A)&&e.$45i.remove(A),e.$46i.contains(A)&&e.$46i.remove(A))},layoutPanels:function(p,U,g){var J=this,Z=J._config,s=Z.hGap||0,C=Z.vGap||0;if(p){var H=J.$43i;if("leftBottom"===U?H=J.$45i:"rightTop"===U?H=J.$44i:"rightBottom"===U&&(H=J.$46i),!H)return;var T=H.$49i,$=s,Y=C;if(p.contains(J._view)&&p.removeChild(J._view),H&&H.size()>0)for(var N=0;N<H.size();N++){var u=H.get(N),R=u.getView();p=p||R.parentNode,g!==N?u.setPosition($,Y):("leftTop"===U?(J._view.style.right="",J._view.style.bottom="",J._view.style.left=$+D,J._view.style.top=Y+D):"leftBottom"===U?(J._view.style.right="",J._view.style.top="",J._view.style.left=$+D,J._view.style.bottom=Y+D):"rightTop"===U?(J._view.style.left="",J._view.style.bottom="",J._view.style.right=$+D,J._view.style.top=Y+D):"rightBottom"===U&&(J._view.style.left="",J._view.style.top="",J._view.style.right=$+D,J._view.style.bottom=Y+D),J._view.style.width=R.offsetWidth+D,J._view.style.height=R.offsetHeight+D,p.insertBefore(J._view,R)),"h"===T?$+=R.offsetWidth+s:"v"===T&&(Y+=R.offsetHeight+C)}}},handlePanelEvent:function(t){if("beginToggle"===t.kind||"endToggle"===t.kind||"beginRestore"===t.kind||"endMinimize"===t.kind||"endResize"===t.kind){var h=this,g=t.target,p=g.getView(),E=p.parentNode,k=h.$43i,J=h.$44i,a=h.$45i,$=h.$46i,n=h._config,S=V,Y=V,G=g.$47i;if(G==V&&(G=g.$47i=0),"beginToggle"===t.kind?G=g.$47i=G+1:"endToggle"===t.kind&&(G=g.$47i=G-1),k&&k.contains(g)?(S="leftTop",Y=k):a&&a.contains(g)?(S="leftBottom",Y=a):J&&J.contains(g)?(S="rightTop",Y=J):$&&$.contains(g)&&(S="rightBottom",Y=$),"beginToggle"===t.kind&&S&&1===G){var L=d(),f=L.style,W=Y.$49i,O="each";f.fontSize="0",f.position="absolute",f.width="100%","leftTop"===S?(f.left=0,f.top=0):"leftBottom"===S?(f.left=0,f.bottom=0,"v"===W&&(O="reverseEach")):"rightTop"===S?(f.right=0,f.top=0,f.textAlign="right","h"===W&&(O="reverseEach")):"rightBottom"===S&&(f.right=0,f.bottom=0,f.textAlign="right",O="reverseEach"),Y[O](function(C){var Y=C.getView(),B=Y.style,I=d();B.position="static",I.style.textAlign="left",I.style.position="relative",I.style.display="inline-block","leftTop"===S?(I.style.marginLeft=n.hGap+D,I.style.marginTop=n.vGap+D):"leftBottom"===S?(I.style.marginLeft=n.hGap+D,I.style.marginBottom=n.vGap+D):"rightTop"===S?(I.style.marginRight=n.hGap+D,I.style.marginTop=n.vGap+D):"rightBottom"===S&&(I.style.marginRight=n.hGap+D,I.style.marginBottom=n.vGap+D),I.appendChild(Y),L.appendChild(I),"h"===W?I.style.verticalAlign="leftTop"===S||"rightTop"===S?"top":"bottom":L.appendChild(u("br"))}),h.$54i=L,E.appendChild(L)}else"endToggle"===t.kind&&S&&0===G?z(function(){E=E.parentNode.parentNode,E.removeChild(h.$54i),delete h.$54i,Y.each(function(V){var i=V.getView(),n=i.style;n.position="absolute",E.appendChild(i)}),h.layoutPanels(E,S)},30):("beginRestore"===t.kind||"endMinimize"===t.kind||"endResize"===t.kind)&&S&&h.layoutPanels(E,S)}},handlePanelMove:function(P){if(!(P.kind.indexOf("Move")<0)){var A=this,K=A._config,Q=K.hGap||0,S=K.vGap||0,B=P.target,j=B._view,D=j.getBoundingClientRect(),i=D.width,g=D.height,l=i/2,$=g/2,X=j.parentNode,k=A.$43i,u=A.$44i,b=A.$45i,z=A.$46i,c=X.getBoundingClientRect(),W=A._tolerance;if("endMove"===P.kind){var f=A._corner;f&&(B.setPositionRelativeTo(f),A.layoutPanels(X,f)),delete A._corner}if("betweenMove"===P.kind){var E=c.left,Z=c.top,M=c.width,F=c.height,T=D.left+i/2,e=D.top+g/2;k==V&&(k=A.$43i=new h.List),b==V&&(b=A.$45i=new h.List),u==V&&(u=A.$44i=new h.List),z==V&&(z=A.$46i=new h.List),delete A._corner,k.contains(B)?(k.remove(B),A.layoutPanels(X,"leftTop")):b.contains(B)?(b.remove(B),A.layoutPanels(X,"leftBottom")):u.contains(B)?(u.remove(B),A.layoutPanels(X,"rightTop")):z.contains(B)&&(z.remove(B),A.layoutPanels(X,"rightBottom"));var m=function(K,D){var w=E+Q,J=Z+S;if(0===D.size()){var g=w+l,a=J+$;"leftBottom"===K?a=Z+F-S-$:"rightTop"===K?g=E+M-Q-l:"rightBottom"===K&&(g=E+M-Q-l,a=Z+F-S-$);var H=T-g,L=e-a,h=Math.sqrt(H*H+L*L);if(W>h)return A._corner=K,D.add(B),A.layoutPanels(X,K,0),!0}else if(1===D.size()){var y=D.get(0),j=y.getView().getBoundingClientRect(),k=j.left+l,_=j.top+$,f=j.left+j.width+Q+l,o=J+$,G=w+l,Y=j.top+j.height+S+$;"leftBottom"===K?(_=j.top+j.height-$,o=Z+F-S-$,Y=j.top-S-$):"rightTop"===K?(k=j.left+j.width-l,f=j.left-Q-l,G=E+M-Q-l):"rightBottom"===K&&(k=j.left+j.width-l,_=j.top+j.height-$,f=j.left-Q-l,o=Z+F-S-$,G=E+M-Q-l,Y=j.top-S-$);var q=T-k,n=e-_,N=T-f,v=e-o,z=T-G,U=e-Y,b=R(Math.sqrt(q*q+n*n)),t=R(Math.sqrt(N*N+v*v)),i=R(Math.sqrt(z*z+U*U)),O=[b,t,i];O.sort(function(L,z){return L-z});var I=O[0];if(W>I){if(A._corner=K,I===b)return D.add(B,0),A.layoutPanels(X,K,0),!0;if(I===t)return D.add(B),D.$49i="h",A.layoutPanels(X,K,1),!0;if(I===i)return D.add(B),D.$49i="v",A.layoutPanels(X,K,1),!0}}else if(D.size()>1){for(var m=V,r={},P=[],u=D.$49i,x=0;x<D.size();x++){var C=D.get(x),p=C.getView(),d=p.getBoundingClientRect(),s=d.left+l,c=d.top+$;"leftBottom"===K?c=d.top+d.height-$:"rightTop"===K?s=d.left+d.width-l:"rightBottom"===K&&(s=d.left+d.width-l,c=d.top+d.height-$),x===D.size()-1&&(m=d);var H=T-s,L=e-c,h=R(Math.sqrt(H*H+L*L));r[h]=x,P.push(h)}"leftTop"===K&&"h"===u?(g=m.left+m.width+Q+l,a=J+$):"leftTop"===K&&"v"===u?(g=w+l,a=m.top+m.height+S+$):"leftBottom"===K&&"h"===u?(g=m.left+m.width+Q+l,a=Z+F-S-$):"leftBottom"===K&&"v"===u?(g=w+l,a=m.top-S-$):"rightTop"===K&&"h"===u?(g=m.left-Q-l,a=J+$):"rightTop"===K&&"v"===u?(g=E+M-Q-l,a=m.top+m.height+S+$):"rightBottom"===K&&"h"===u?(g=m.left-Q-l,a=Z+F-S-$):"rightBottom"===K&&"v"===u&&(g=E+M-Q-l,a=m.top-S-$),H=T-g,L=e-a,h=R(Math.sqrt(H*H+L*L)),r[h]=x,P.push(h),P.sort(function(z,G){return z-G});var I=P[0];if(W>I)return A._corner=K,D.add(B,r[I]),A.layoutPanels(X,K,r[I]),!0}};m("leftTop",k)||m("leftBottom",b)||m("rightTop",u)||m("rightBottom",z)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);