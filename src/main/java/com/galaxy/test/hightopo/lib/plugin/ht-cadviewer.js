!function(q,N,g){"use strict";var F="ht",P=q[F],W=P.Default,K=W.getInternal();K.addMethod(W,{toDxf:function(V){var T=new P.DxfWriter;T.snapshotView(V);var H=T.write();return H},viewDxf:function(n,d,h){var U=new P.DxfViewer(n,h);n.addBottomPainter(U),U.parseFile(d)}}),function(F){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=F();else if("function"==typeof define&&define.amd)define([],F);else{var a;a="undefined"!=typeof q?q:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,a.DxfParser=F()}}(function(){var M;return function W(Z,y,d){function w(n,i){if(!y[n]){if(!Z[n]){var a="function"==typeof require&&require;if(!i&&a)return a(n,!0);if(U)return U(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var H=y[n]={exports:{}};Z[n][0].call(H.exports,function(k){var W=Z[n][1][k];return w(W?W:k)},H,H.exports,W,Z,y,d)}return y[n].exports}for(var U="function"==typeof require&&require,Y=0;Y<d.length;Y++)w(d[Y]);return w}({1:[function(H,Y){Y.exports=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215]},{}],2:[function(k,Z){function R(d){this._pointer=0,this._data=d,this._eof=!1}function M(N,p){return 9>=N?p:N>=10&&59>=N?parseFloat(p):N>=60&&99>=N?parseInt(p):N>=100&&109>=N?p:N>=110&&149>=N?parseFloat(p):N>=160&&179>=N?parseInt(p):N>=210&&239>=N?parseFloat(p):N>=270&&289>=N?parseInt(p):N>=290&&299>=N?o(p):N>=300&&369>=N?p:N>=370&&389>=N?parseInt(p):N>=390&&399>=N?p:N>=400&&409>=N?parseInt(p):N>=410&&419>=N?p:N>=420&&429>=N?parseInt(p):N>=430&&439>=N?p:N>=440&&459>=N?parseInt(p):N>=460&&469>=N?parseFloat(p):N>=470&&481>=N?p:999===N?p:N>=1e3&&1009>=N?p:N>=1010&&1059>=N?parseFloat(p):N>=1060&&1071>=N?parseInt(p):(console.log("WARNING: Group code does not have a defined type: %j",{code:N,value:p}),p)}function o(K){if("0"===K)return!1;if("1"===K)return!0;throw TypeError("String '"+K+"' cannot be cast to Boolean type")}R.prototype.next=function(){var u;if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);return u={code:parseInt(this._data[this._pointer])},this._pointer++,u.value=M(u.code,this._data[this._pointer].trim()),this._pointer++,0===u.code&&"EOF"===u.value&&(this._eof=!0),u},R.prototype.hasNext=function(){return this._eof?!1:this._pointer>this._data.length-2?!1:!0},R.prototype.isEOF=function(){return this._eof},Z.exports=R},{}],3:[function(Q,o){function K(){}function T(d){j.debug("unhandled group "+e(d))}function e(U){return U.code+":"+U.value}function y(S){return P[S]}var i=Q("./DxfArrayScanner.js"),P=Q("./AutoCadColorIndex"),j=Q("loglevel");j.setLevel("error"),K.prototype.parse=function(){throw new Error("read() not implemented. Use readSync()")},K.prototype.parseSync=function(M){return"string"==typeof M?this._parse(M):(console.error("Cannot read dxf source of type `"+typeof M),null)},K.prototype.parseStream=function(N,Z){function R(b){p+=b}function v(){try{var N=f._parse(p)}catch(q){return Z(q)}Z(null,N)}function U(C){Z(C)}var p="",f=this;N.on("data",R),N.on("end",v),N.on("error",U)},K.prototype._parse=function(E){var w,k,O={},J=0,D=E.split(/\r\n|\r|\n/g);if(w=new i(D),!w.hasNext())throw Error("Empty file");var A=function(){for(k=w.next();!w.isEOF();)if(0===k.code&&"SECTION"===k.value){if(k=w.next(),2!==k.code){console.error("Unexpected code %s after 0:SECTION",e(k)),k=w.next();continue}"HEADER"===k.value?(j.debug("> HEADER"),O.header=q(),j.debug("<")):"BLOCKS"===k.value?(j.debug("> BLOCKS"),O.blocks=M(),j.debug("<")):"ENTITIES"===k.value?(j.debug("> ENTITIES"),O.entities=S(!1),j.debug("<")):"TABLES"===k.value?(j.debug("> TABLES"),O.tables=p(),j.debug("<")):"EOF"===k.value?j.debug("EOF"):j.warn("Skipping section '%s'",k.value)}else k=w.next()},s=function(j,e){return k.code===j&&k.value===e},q=function(){var r=null,z=null,v={};for(k=w.next();;){if(s(0,"ENDSEC")){r&&(v[r]=z);break}9===k.code?(r&&(v[r]=z),r=k.value):10===k.code?z={x:k.value}:20===k.code?z.y=k.value:30===k.code?z.z=k.value:z=k.value,k=w.next()}return k=w.next(),v},M=function(){var L,E={};for(k=w.next();"EOF"!==k.value&&!s(0,"ENDSEC");)s(0,"BLOCK")?(j.debug("block {"),L=l(),j.debug("}"),z(L),L.name?E[L.name]=L:j.error('block with handle "'+L.handle+'" is missing a name.')):(T(k),k=w.next());return E},l=function(){var Q={};for(k=w.next();"EOF"!==k.value;){switch(k.code){case 1:Q.xrefPath=k.value,k=w.next();break;case 2:Q.name=k.value,k=w.next();break;case 3:Q.name2=k.value,k=w.next();break;case 5:Q.handle=k.value,k=w.next();break;case 8:Q.layer=k.value,k=w.next();break;case 10:Q.position=c();break;case 67:Q.paperSpace=k.value&&1==k.value?!0:!1,k=w.next();break;case 70:0!=k.value&&(Q.type=k.value),k=w.next();break;case 100:k=w.next();break;case 330:Q.ownerHandle=k.value,k=w.next();break;case 0:if("ENDBLK"==k.value)break;w._pointer-=2,Q.entities=S(!0);break;default:T(k),k=w.next()}if(s(0,"ENDBLK")){k=w.next();break}}return Q},p=function(){var y={};for(k=w.next();"EOF"!==k.value&&!s(0,"ENDSEC");)if(s(0,"TABLE")){k=w.next();var I=G[k.value];I?(j.debug(k.value+" Table {"),y[G[k.value].tableName]=Z(),j.debug("}")):j.debug("Unhandled Table "+k.value)}else k=w.next();return k=w.next(),y},P="ENDTAB",Z=function(){var l,z=G[k.value],C={},D=0;for(k=w.next();!s(0,P);)switch(k.code){case 5:C.handle=k.value,k=w.next();break;case 330:C.ownerHandle=k.value,k=w.next();break;case 100:"AcDbSymbolTable"===k.value?k=w.next():(T(k),k=w.next());break;case 70:D=k.value,k=w.next();break;case 0:k.value===z.dxfSymbolName?C[z.tableRecordsProperty]=z.parseTableRecords():(T(k),k=w.next());break;default:T(k),k=w.next()}var J=C[z.tableRecordsProperty];return J&&(J.constructor===Array?l=J.length:"object"==typeof J&&(l=N.keys(J).length),D!==l&&j.warn("Parsed "+l+" "+z.dxfSymbolName+"'s but expected "+D)),k=w.next(),C},Q=function(){var b=[],t={};for(j.debug("ViewPort {"),k=w.next();!s(0,P);)switch(k.code){case 2:t.name=k.value,k=w.next();break;case 10:t.lowerLeftCorner=c();break;case 11:t.upperRightCorner=c();break;case 12:t.center=c();break;case 13:t.snapBasePoint=c();break;case 14:t.snapSpacing=c();break;case 15:t.gridSpacing=c();break;case 16:t.viewDirectionFromTarget=c();break;case 17:t.viewTarget=c();break;case 40:t.viewHeight=k.value,t.aspectRatio!==g&&(t.viewWidth=k.value*t.aspectRatio),k=w.next();break;case 41:t.aspectRatio=k.value,t.viewHeight!==g&&(t.viewWidth=k.value*t.viewHeight),k=w.next();break;case 42:t.lensLength=k.value,k=w.next();break;case 43:t.frontClippingPlane=k.value,k=w.next();break;case 44:t.backClippingPlane=k.value,k=w.next();break;case 45:t.viewHeight=k.value,k=w.next();break;case 50:t.snapRotationAngle=k.value,k=w.next();break;case 51:t.viewTwistAngle=k.value,k=w.next();break;case 79:t.orthographicType=k.value,k=w.next();break;case 110:t.ucsOrigin=c();break;case 111:t.ucsXAxis=c();break;case 112:t.ucsYAxis=c();break;case 110:t.ucsOrigin=c();break;case 281:t.renderMode=k.value,k=w.next();break;case 281:t.defaultLightingType=k.value,k=w.next();break;case 292:t.defaultLightingOn=k.value,k=w.next();break;case 330:t.ownerHandle=k.value,k=w.next();break;case 63:case 421:case 431:t.ambientColor=k.value,k=w.next();break;case 0:"VPORT"===k.value&&(j.debug("}"),b.push(t),j.debug("ViewPort {"),t={},k=w.next());break;default:T(k),k=w.next()}return j.debug("}"),b.push(t),b},_=function(){var z,r,W={},y={};for(j.debug("LType {"),k=w.next();!s(0,"ENDTAB");)switch(k.code){case 2:y.name=k.value,z=k.value,k=w.next();break;case 3:y.description=k.value,k=w.next();break;case 73:r=k.value,r>0&&(y.pattern=[]),k=w.next();break;case 40:y.patternLength=k.value,k=w.next();break;case 49:y.pattern.push(k.value),k=w.next();break;case 0:j.debug("}"),r>0&&r!==y.pattern.length&&j.warn("lengths do not match on LTYPE pattern"),W[z]=y,y={},j.debug("LType {"),k=w.next();break;default:k=w.next()}return j.debug("}"),W[z]=y,W},I=function(){var z,I={},D={};for(j.debug("Layer {"),k=w.next();!s(0,"ENDTAB");)switch(k.code){case 2:D.name=k.value,z=k.value,k=w.next();break;case 62:D.visible=k.value>0,D.color=y(Math.abs(k.value)),k=w.next();break;case 6:D.lineType=k.value,k=w.next();break;case 0:"LAYER"===k.value&&(j.debug("}"),I[z]=D,j.debug("Layer {"),D={},z=g,k=w.next());break;default:T(k),k=w.next()}return j.debug("}"),I[z]=D,I},G={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:Q},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:_},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:I}},S=function(m){var V=[],s=m?"ENDBLK":"ENDSEC";for(k=w.next();;)if(0===k.code){if(k.value===s)break;var l;if("LWPOLYLINE"===k.value)j.debug("LWPOLYLINE {"),l=u(),j.debug("}");else if("POLYLINE"===k.value)j.debug("POLYLINE {"),l=R(),j.debug("}");else if("LINE"===k.value)j.debug("LINE {"),l=o(),j.debug("}");else if("CIRCLE"===k.value)j.debug("CIRCLE {"),l=X(),j.debug("}");else if("ARC"===k.value)j.debug("ARC {"),l=X(),j.debug("}");else if("ELLIPSE"===k.value)j.debug("ELLIPSE {"),l=b(),j.debug("}");else if("SPLINE"===k.value)j.debug("SPLINE {"),l=x(),j.debug("}");else if("TEXT"===k.value)j.debug("TEXT {"),l=h(),j.debug("}");else if("DIMENSION"===k.value)j.debug("DIMENSION {"),l=L(),j.debug("}");else if("INSERT"===k.value)j.debug("INSERT {"),l=d(),j.debug("}");else if("HATCH"===k.value)j.debug("HATCH {"),l=f(),j.debug("}");else if("SOLID"===k.value)j.debug("SOLID {"),l=K(),j.debug("}");else if("POINT"===k.value)j.debug("POINT {"),l=v(),j.debug("}");else if("MTEXT"===k.value)j.debug("MTEXT {"),l=U(),j.debug("}");else{if("ATTDEF"!==k.value){j.warn("Unhandled entity "+k.value),k=w.next();continue}j.debug("ATTDEF {"),l=B(),j.debug("}")}z(l),V.push(l)}else k=w.next();return"ENDSEC"==s&&(k=w.next()),V},t=function(R){switch(k.code){case 0:R.type=k.value,k=w.next();break;case 5:R.handle=k.value,k=w.next();break;case 6:R.lineType=k.value,k=w.next();break;case 8:R.layer=k.value,k=w.next();break;case 48:R.lineTypeScale=k.value,k=w.next();break;case 60:R.visible=0===k.value,k=w.next();break;case 62:R.colorIndex=k.value,R.color=y(Math.abs(k.value)),k=w.next();break;case 67:R.inPaperSpace=0!==k.value,k=w.next();break;case 210:R.extrusionDirection=c();break;case 330:R.ownerHandle=k.value,k=w.next();break;case 347:R.materialObjectHandle=k.value,k=w.next();break;case 370:R.lineweight=k.value,k=w.next();break;case 420:R.color=k.value,k=w.next();break;case 100:if("AcDbEntity"==k.value){k=w.next();break}default:T(k),k=w.next()}},H=function(){var q={type:k.value};for(k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:q.x=k.value,k=w.next();break;case 20:q.y=k.value,k=w.next();break;case 30:q.z=k.value,k=w.next();break;case 40:case 41:case 42:k=w.next();break;case 70:q.curveFittingVertex=0!==(1|k.value),q.curveFitTangent=0!==(2|k.value),q.splineVertex=0!==(8|k.value),q.splineControlPoint=0!==(16|k.value),q.ThreeDPolylineVertex=0!==(32|k.value),q.ThreeDPolylineMesh=0!==(64|k.value),q.polyfaceMeshVertex=0!==(128|k.value),k=w.next();break;case 50:case 71:case 72:case 73:case 74:k=w.next();break;default:t(q)}return q},$=function(){var b={type:k.value};for(k=w.next();"EOF"!=k&&0!=k.code;)t(b);return b},c=function(){var C={},c=k.code;if(C.x=k.value,c+=10,k=w.next(),k.code!=c)throw new Error("Expected code for point value to be "+c+" but got "+k.code+".");return C.y=k.value,c+=10,k=w.next(),k.code!=c?C:(C.z=k.value,k=w.next(),C)},r=function(){var F={},e=k.code;return F.x=k.value,e+=1,k=w.next(),k.code!=e?(w._pointer-=2,F.y=1):F.y=k.value,e+=1,k=w.next(),k.code!=e?(w._pointer-=2,F):(F.z=k.value,k=w.next(),F)},W=function(m){if(!m||0>=m)throw Error("n must be greater than 0 verticies");var q,G=[],O=!1,s=!1;for(q=0;m>q;q++){for(var B={};"EOF"!==k&&0!==k.code&&!s;){switch(k.code){case 10:if(O){s=!0;continue}B.x=k.value,O=!0;break;case 20:B.y=k.value;break;case 30:B.z=k.value;break;case 40:B.startWidth=k.value;break;case 41:B.endWidth=k.value;break;case 42:0!=k.value&&(B.bulge=k.value);break;default:k=w.next();continue}k=w.next()}G.push(B),O=!1,s=!1}return G},n=function(){for(var h=[];"EOF"!==k;)if(0===k.code)if("VERTEX"===k.value)h.push(H());else if("SEQEND"===k.value){$();break}return h},U=function(){var H={type:k.value};for(k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 1:H.text=k.value,k=w.next();break;case 3:H.text+=k.value,k=w.next();break;case 10:H.position=c();break;case 40:H.height=k.value,k=w.next();break;case 41:H.width=k.value,k=w.next();break;case 71:H.attachmentPoint=k.value,k=w.next();break;case 72:H.drawingDirection=k.value,k=w.next();break;case 50:H.angle=2*k.value*Math.PI/360,k=w.next();break;case 11:H.directionX=k.value,k=w.next();break;case 21:H.directionY=k.value,k=w.next();break;default:t(H)}return H},B=function(){var d={type:k.value,scale:1,textStyle:"STANDARD"};for(k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 1:d.text=k.value,k=w.next();break;case 2:d.tag=k.value,k=w.next();break;case 3:d.prompt=k.value,k=w.next();break;case 7:d.textStyle=k.value,k=w.next();break;case 10:d.x=k.value,k=w.next();break;case 20:d.y=k.value,k=w.next();break;case 30:d.z=k.value,k=w.next();break;case 39:d.thickness=k.value,k=w.next();break;case 40:d.textHeight=k.value,k=w.next();break;case 41:d.scale=k.value,k=w.next();break;case 50:d.rotation=k.value,k=w.next();break;case 51:d.obliqueAngle=k.value,k=w.next();break;case 70:d.invisible=!!(1&k.value),d.constant=!!(2&k.value),d.verificationRequired=!!(4&k.value),d.preset=!!(8&k.value),k=w.next();break;case 71:d.backwards=!!(2&k.value),d.mirrored=!!(4&k.value),k=w.next();break;case 72:d.horizontalJustification=k.value,k=w.next();break;case 73:d.fieldLength=k.value,k=w.next();break;case 74:d.verticalJustification=k.value,k=w.next();break;case 100:k=w.next();break;case 210:d.extrusionDirectionX=k.value,k=w.next();break;case 220:d.extrusionDirectionY=k.value,k=w.next();break;case 230:d.extrusionDirectionZ=k.value,k=w.next();break;default:t(d)}return d},u=function(){var r={type:k.value,vertices:[]},p=0;for(k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 38:r.elevation=k.value,k=w.next();break;case 39:r.depth=k.value,k=w.next();break;case 70:r.shape=1===k.value,k=w.next();break;case 90:p=k.value,k=w.next();break;case 10:r.vertices=W(p);break;case 43:0!==k.value&&(r.width=k.value),k=w.next();break;default:t(r)}return r},R=function(){var $={type:k.value,vertices:[]};for(k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:case 20:case 30:case 39:case 40:case 41:k=w.next();break;case 70:$.shape=0!==(1|k.value),k=w.next();break;case 71:case 72:case 73:case 74:case 75:k=w.next();break;case 210:j.debug(k.value),k=w.next();break;case 220:case 230:k=w.next();break;case 100:k=w.next();break;default:t($)}return $.vertices=n(),$},o=function(){var x={type:k.value,vertices:[]};for(k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:x.vertices.unshift(c());break;case 11:x.vertices.push(c());break;case 100:if("AcDbLine"==k.value){k=w.next();break}default:t(x)}return x},X=function(){var C,F;for(C={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:C.center=c();break;case 40:C.radius=k.value,k=w.next();break;case 50:C.startAngle=Math.PI/180*k.value,k=w.next();break;case 51:F=Math.PI/180*k.value,C.angleLength=F<C.startAngle?F+2*Math.PI-C.startAngle:F-C.startAngle,C.endAngle=F,k=w.next();break;default:t(C)}return C},b=function(){var N,m;for(N={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:N.center=c();break;case 11:N.major=c();break;case 40:N.ratio=k.value,k=w.next();break;case 41:N.startAngle=k.value,k=w.next();break;case 42:m=k.value,N.angleLength=m<N.startAngle?m+2*Math.PI-N.startAngle:m-N.startAngle,N.endAngle=m,k=w.next();break;default:t(N)}return N},d=function(){var m;for(m={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 2:m.block=k.value,k=w.next();break;case 10:m.center=c();break;case 41:m.scale=r();break;case 50:m.deg=k.value,k=w.next();break;default:t(m)}return m},f=function(){var i;for(i={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 2:i.block=k.value,k=w.next();break;case 10:i.center=c();break;case 41:i.scale=r();break;case 50:i.deg=k.value,k=w.next();break;default:t(i)}return i},x=function(){var Q,i;for(Q={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:Q.center=c();break;case 11:Q.major=c();break;case 40:Q.ratio=k.value,k=w.next();break;case 41:Q.startAngle=k.value,k=w.next();break;case 42:i=k.value,Q.angleLength=i<Q.startAngle?i+2*Math.PI-Q.startAngle:i-Q.startAngle,Q.endAngle=i,k=w.next();break;default:t(Q)}return Q},h=function(){var i;for(i={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:i.startPoint=c();break;case 11:i.endPoint=c();break;case 40:i.textHeight=k.value,k=w.next();break;case 41:i.xScale=k.value,k=w.next();break;case 1:i.text=k.value,k=w.next();break;case 71:i.generationFlags=k.value,k=w.next();break;case 72:i.halign=k.value,k=w.next();break;case 73:i.valign=k.value,k=w.next();break;case 50:i.rotation=2*k.value*Math.PI/360,k=w.next();break;default:t(i)}return i},L=function(){var r;for(r={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 2:r.block=k.value,k=w.next();break;case 10:r.anchorPoint=c();break;case 11:r.middleOfText=c();break;case 71:r.attachmentPoint=k.value,k=w.next();break;case 42:r.actualMeasurement=k.value,k=w.next();break;case 1:r.text=k.value,k=w.next();break;case 50:r.angle=k.value,k=w.next();break;default:t(r)}return r},K=function(){var o;for(o={type:k.value},o.points=[],k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:o.points[0]=c();break;case 11:o.points[1]=c();break;case 12:o.points[2]=c();break;case 13:o.points[3]=c();break;default:t(o)}return o},v=function(){var G;for(G={type:k.value},k=w.next();"EOF"!==k&&0!==k.code;)switch(k.code){case 10:G.position=c();break;case 39:G.thickness=k.value,k=w.next();break;case 100:if("AcDbPoint"==k.value){k=w.next();break}default:t(G)}return G},z=function(A){if(!A)throw new TypeError("entity cannot be undefined or null");A.handle||(A.handle=J++)};return A(),O},o.exports=K},{"./AutoCadColorIndex":1,"./DxfArrayScanner.js":2,loglevel:4}],4:[function(r,h){!function(i,W){"object"==typeof h&&h.exports&&"function"==typeof r?h.exports=W():"function"==typeof M&&"object"==typeof M.amd?M(W):i.log=W()}(this,function(){function L(a){return typeof console===A?!1:console[a]!==g?D(console,a):console.log!==g?D(console,"log"):z}function D(m,Q){var Z=m[Q];if("function"==typeof Z.bind)return Z.bind(m);try{return Function.prototype.bind.call(Z,m)}catch(S){return function(){return Function.prototype.apply.apply(Z,[m,arguments])}}}function $(e,L){return function(){typeof console!==A&&(K(L),R[e].apply(R,arguments))}}function K(u){for(var c=0;c<H.length;c++){var Y=H[c];R[Y]=u>c?z:R.methodFactory(Y,u)}}function S(K){var W=(H[K]||"silent").toUpperCase();try{return q.localStorage.loglevel=W,void 0}catch(u){}try{q.document.cookie="loglevel="+W+";"}catch(u){}}function n(){var o;try{o=q.localStorage.loglevel}catch($){}if(typeof o===A)try{o=/loglevel=([^;]+)/.exec(q.document.cookie)[1]}catch($){}R.levels[o]===g&&(o="WARN"),R.setLevel(R.levels[o],!1)}var R={},z=function(){},A="undefined",H=["trace","debug","info","warn","error"];R.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},R.methodFactory=function(i,R){return L(i)||$(i,R)},R.setLevel=function($,_){if("string"==typeof $&&R.levels[$.toUpperCase()]!==g&&($=R.levels[$.toUpperCase()]),!("number"==typeof $&&$>=0&&$<=R.levels.SILENT))throw"log.setLevel() called with invalid level: "+$;return _!==!1&&S($),K($),typeof console===A&&$<R.levels.SILENT?"No console available for logging":void 0},R.enableAll=function(w){R.setLevel(R.levels.TRACE,w)},R.disableAll=function(k){R.setLevel(R.levels.SILENT,k)};var U=typeof q!==A?q.log:g;return R.noConflict=function(){return typeof q!==A&&q.log===R&&(q.log=U),R},n(),R})},{}]},{},[3])(3)});var z=P.DxfViewer=function(Q,u){var s=this;s._gv=Q,s.$17w={},s.$16w(u)};z.prototype={},z.prototype.constructor=z;var s={LINE:["LINE","POLYLINE","LWPOLYLINE"],CIRCLE:["CIRCLE","ARC"],ELLIPSE:["ELLIPSE"],TEXT:["TEXT","MTEXT"],SOLID:["SOLID"],POINT:["POINT"]};N.defineProperties(z.prototype,{gv:{get:function(){return this._gv}},dxf:{get:function(){return this._dxf}},forceUpdate:{get:function(){return this.$1ew},set:function(r){var K=this;K.$1ew=r,K.$18w&&(clearTimeout(K.$18w),K.$18w=g),r&&K.gv&&K.gv.redraw()}},viewport:{get:function(){var G=this;if(G._dxf){var e=G.options;return{x:e.x===g?G.$19w.x:e.x,y:e.y===g?G.$19w.y:e.y}}},set:function(f){var T=this;T.options.x=f.x||0,T.options.y=f.y||0,T.forceUpdate=!0}},zoom:{get:function(){var o=this;return o._gv?o._gv.getZoom():o.options.zoom},set:function(P){var D=this;D._gv?D._gv.setZoom(P):D.options.zoom=P}}}),z.prototype.$16w=function(X){var S=this,I=S.options={};X=X||{},I.zoom=X.zoom||1,X.zoom&&S._gv&&X.zoom!==S._gv.getZoom()&&S._gv.setZoom(I.zoom),I.baseCacheUpdateInterval=X.baseCacheUpdateInterval||0,I.extraCacheUpdateInterval=X.extraCacheUpdateInterval||500,I.lineWidth=X.lineWidth||1,I.linesBatchSize=X.linesBatchSize||1e5,I.font=X.font||"Courier",I.pointCircleSize=X.pointCircleSize||5,I.pointCenterSize=X.pointCenterSize||2,I.textMinFontSize=X.textMinFontSize||3,I.textScaleRatio=X.textScaleRatio||1},z.prototype.draw=function(R){var _=this;_._dxf&&_.$5w()&&(_._now=Date.now(),_._resolution=q.devicePixelRatio,_.$64w(),_.$6w(),_.$13w(R),_.$1ew=!1)},z.prototype.$64w=function(){var i=this,b=i.gv,x=b.getZoom(),d=b.tx(),L=b.ty(),_=i.$17w,f=i.options.extraCacheUpdateInterval;x!==_.zoom||d!==_.tx||L!==_.ty?(_.zoom=x,_.tx=d,_.ty=L,_.dirty=!0,_.dirtyTime=i._now,i.$18w&&clearTimeout(i.$18w),0===f?i.forceUpdate=!0:i.$18w=setTimeout(function(){i.forceUpdate=!0},i.options.extraCacheUpdateInterval)):_.dirty=!1},z.prototype.$13w=function(G){var P=this;P.options,P.$17w;var r;r=P.$1aw;var n=r.zoom;G.drawImage(P.$15w,-r.tx/n,-r.ty/n,r.width/n,r.height/n),P.$18w||(r=P.$1fw,G.drawImage(P.$1cw,-r.tx/n,-r.ty/n,r.width/n,r.height/n))},z.prototype.$12w=function(n){var m,t,e,H,l,P,j,C,u,D,p,$,o,N,x,f,R,I,v=this,O=v._models;for(n.lineWidth=v.options.lineWidth,$=v.options.linesBatchSize,m=s.LINE,H=0,l=m.length;l>H;H++){t=m[H],e=O[t];for(C in e){for(n.strokeStyle=C,u=e[C],n.beginPath(),p=0,P=0,j=u.length;j>P;P++)if(D=u[P],(p++>=$||D.width)&&(n.stroke(),n.beginPath(),p=0),o=D.vertices,o&&o.length){for(R=v.$3w(o[0].x,1),I=v.$3w(o[0].y,2),n.moveTo(R,I),x=1,f=o.length;f>x;x++)N=o[x],n.lineTo(v.$3w(N.x,1),v.$3w(N.y,2));D.shape&&n.lineTo(R,I),D.width&&(n.lineWidth=Math.max(1,v.$3w(D.width)),n.stroke(),n.beginPath(),n.lineWidth=1)}n.stroke()}}},z.prototype.$11w=function(O){var W,t,u,g,b,Z,d,V,D,G,J,B,P,e=this,h=e._models;for(O.lineWidth=e.options.lineWidth,B=e.options.linesBatchSize,W=s.SOLID,g=0,b=W.length;b>g;g++){t=W[g],u=h[t];for(V in u){for(O.fillStyle=V,D=u[V],O.beginPath(),J=0,Z=0,d=D.length;d>Z;Z++)G=D[Z],J++>=B&&(O.fill(),O.beginPath(),J=0),P=G.points,O.moveTo(e.$3w(P[0].x,1),e.$3w(P[0].y,2)),O.lineTo(e.$3w(P[1].x,1),e.$3w(P[1].y,2)),O.lineTo(e.$3w(P[3].x,1),e.$3w(P[3].y,2)),O.lineTo(e.$3w(P[2].x,1),e.$3w(P[2].y,2)),O.lineTo(e.$3w(P[0].x,1),e.$3w(P[0].y,2));O.fill()}}},z.prototype.$10w=function(l){var L,y,E,t,F,J,G,X,T,b,i,$,R,V,H=this,P=H._models;for(l.lineWidth=H.options.lineWidth,L=s.POINT,R=H.$3w(H.options.pointCircleSize),V=H.$3w(H.options.pointCenterSize),t=0,F=L.length;F>t;t++){y=L[t],E=P[y];for(X in E)for(l.strokeStyle=X,l.fillStyle=X,T=E[X],J=0,G=T.length;G>J;J++)b=T[J],i=H.$3w(b.position.x,1),$=H.$3w(b.position.y,2),l.fillRect(i,$,V,V),l.beginPath(),l.arc(i,$,R,0,2*Math.PI,!0),l.stroke()}},z.prototype.$9w=function(O){var d,r,E,C,K,F,t,w,u,I,T,$,v,o,q,y,P,M,l,k,N=this,b=N._models;for(O.lineWidth=N.options.lineWidth,d=s.CIRCLE,C=0,K=d.length;K>C;C++){r=d[C],E=b[r];for(w in E)for(O.strokeStyle=w,u=E[w],F=0,t=u.length;t>F;F++)I=u[F],O.beginPath(),T=I.startAngle||0,$=I.angleLength||2*Math.PI,v=T+$,o=I.radius,q=I.addonAngle||0,y=N.$3w(I.center.x,1),P=N.$3w(I.center.y,2),k=I.xInvert^(I.extrusionDirection&&-1===I.extrusionDirection.z),l=I.yInvert,l||k?k&&l?(T=Math.PI+T,v=Math.PI+v,M=!1):(T=Math.PI*(k?1:2)-T,v=Math.PI*(k?1:2)-v,M=!0):M=!1,O.arc(y,P,N.$3w(o),T+q,v+q,M),O.stroke()}},z.prototype.$8w=function(w){var u,V,v,p,n,D,U,j,P,B,J,b,t,T,i,l,Y,R,O,E,o,L,Z,I,X,$=this,_=$._models;for(u=s.TEXT,i=$.options.font,Z=$.options.textScaleRatio,I=$.options.textMinFontSize,p=0,n=u.length;n>p;p++){V=u[p],v=_[V];for(j in v)for(w.fillStyle=j,P=v[j],D=0,U=P.length;U>D;D++)if(B=P[D],J=B.text,"MTEXT"===V?(b=$.$3w(B.height||12),t=$.$3w(B.position.x,1),T=$.$3w(B.position.y,2),O=B.angle?B.angle:B.directionX?Math.atan2(B.directionY,B.directionX):0,O+=B.addonAngle||0,L=1,R=B.attachmentPoint||1,l=R%3,Y=Math.floor(R/3)):(b=$.$3w(B.textHeight||12),t=B.startPoint.x,T=B.startPoint.y,O=B.rotation||0,L=B.xScale||1,2===B.generationFlags?O=2*Math.PI-O:4===B.generationFlags?O=Math.PI-O:6===B.generationFlags&&(O=Math.PI+O),t=$.$3w(t,1),T=$.$3w(T,2),l=(B.halign||0)+1,3===B.valign?Y=0:2===B.valign?(Y=1,B.endPoint&&(t=(t+$.$3w(B.endPoint.x,1))/2)):Y=2),!(I>b)){if($._isAc2015&&(T-=b),w.save(),w.translate(t,T),w.rotate(O),w.scale(L,-1),"MTEXT"===V&&(1===Y?w.translate(0,b/2):0===Y&&w.translate(0,b)),w.textAlign=0===l?"right":2===l?"center":"left",w.font=b*Z+"px "+i,"MTEXT"===V)for(J=J.replace(/\\{/g,"#@#"),J=J.replace(/\\}/g,"#@@"),J=J.replace(/({|})/g,""),J=J.replace(/#@#/g,"{"),J=J.replace(/#@@/g,"}"),J=J.replace(/\\[ACT]\d+;/g,""),(X=J.match(/\\f[^;]*;/))&&(J=J.replace(X[0],""),X=X[0].match(/\|p(\d+)/),X&&(w.font=X[0]/10*b*Z+"px "+i)),E=J.split("\\P"),o=0;o<E.length;o++)w.fillText(E[o],0,1.2*o*b);else w.fillText(J,0,0);w.restore()}}},z.prototype.$7w=function(c){var R,Z,l,W,B,t,w,F,n,H,V,d,Q,x,z,i,S,j,p,h,D,E=this,U=E._models;for(R=s.ELLIPSE,W=0,B=R.length;B>W;W++){Z=R[W],l=U[Z];for(F in l)for(c.strokeStyle=F,n=l[F],t=0,w=n.length;w>t;t++)H=n[t],V=H.major,d=Math.atan2(V.y,V.x),Q=Math.sqrt(V.x*V.x+V.y*V.y),x=H.startAngle||0,z=H.angleLength||2*Math.PI,i=x+z,S=E.$3w(H.center.x,1),j=E.$3w(H.center.y,2),p=H.xInvert,h=H.yInvert^(H.extrusionDirection&&-1===H.extrusionDirection.z),h||p?p&&h?(x=Math.PI+x,i=Math.PI+i,D=!1):(x=Math.PI*(p?1:2)-x,i=Math.PI*(p?1:2)-i,D=!0):D=!1,c.lineWidth=E.options.lineWidth,c.save(),c.translate(S,j),c.scale(H.ratio,1),c.rotate(d),c.beginPath(),c.arc(0,0,E.$3w(Q),x,i,D),c.strokeStyle=F,c.restore(),c.stroke()}},z.prototype.$6w=function(){var j,Q,T,X,E,M,y,_,P=this,V=P.$17w,R=P._resolution;if(M=P.viewport,y=-M.x,_=-M.y,P._shiftX=P.viewport.x,P._shiftY=P.viewport.y,P._zoom=V.zoom,P.forceUpdate||P._now-(P._baseCacheUpdateTime||0)>P.options.baseCacheUpdateInterval){var h=P.$1bw,n=P.$15w;X=n.width,E=n.height,h.clearRect(0,0,X,E),P.$1aw={tx:j=V.tx,ty:Q=V.ty,zoom:T=V.zoom,width:X/R,height:E/R},h.save(),h.setTransform(R,0,0,-R,R*j,R*Q),P.$12w(h),P._baseCacheUpdateTime=P._now,h.restore()}if(P.forceUpdate){var g=P.$1dw,C=P.$1cw;X=C.width,E=C.height,g.clearRect(0,0,X,E),P.$1fw={tx:j=V.tx,ty:Q=V.ty,zoom:T=V.zoom,width:X/R,height:E/R},g.save(),g.setTransform(R,0,0,-R,R*j,R*Q),P.$10w(g),P.$9w(g),P.$11w(g),P.$7w(g),P.$8w(g),g.restore()}},z.prototype.$5w=function(){var Z=this,W=Z._gv.getCanvas();if(!W)return!1;var e,h=Z.$15w;return h?e=Z.$1cw:(h=Z.$15w=document.createElement("canvas"),Z.$1bw=h.getContext("2d"),e=Z.$1cw=document.createElement("canvas"),Z.$1dw=e.getContext("2d")),(h.style.width!==W.style.width||h.style.height!==W.style.height||h.width!==W.width||h.height!==W.height)&&(h.style.width=e.style.width=W.style.width,h.style.height=e.style.height=W.style.height,h.width=e.width=W.width,h.height=e.height=W.height,Z.$1ew=!0),!0},z.prototype.$4w=function(t,O,i,N){var c=this,G=c.$2w(O,i);if(G){var j,q,s,X=O.type;if("DIMENSION"!==X&&"INSERT"!==X){(j=t[X])||(j=t[X]={}),(q=j[G])||(q=j[G]=[]);var A=O.extrusionDirection&&-1===O.extrusionDirection.z&&["POINT","LINE","POLYLINE","LWPOLYLINE","ELLIPSE"].indexOf(X)<0;if(N||A){N||(N={a:1,b:0,c:0,d:1,tx:0,ty:0});var o={};for(var z in O)o[z]=O[z];o.radius&&(o.radius*=Math.sqrt(N.a*N.a+N.b*N.b)),o.textHeight&&(o.textHeight*=Math.sqrt(N.a*N.a+N.b*N.b));var _=A?-1:1,b=function(w,q){if(w){var W=w.x,G=w.y;return{x:W*_*q.a+G*q.c+q.tx,y:W*_*q.b+G*q.d+q.ty}}};if(o.position=b(o.position,N),o.startPoint=b(o.startPoint,N),o.center=b(o.center,N),"ELLIPSE"===X){var W;W=b({x:O.major.x+O.center.x,y:O.major.y+O.center.y},N),o.major={x:W.x-o.center.x,y:W.y-o.center.y},O.extrusionDirection&&-1===O.extrusionDirection.z&&(o.major.x*=-1)}var U;o.vertices&&(U=[],o.vertices.forEach(function(d){U.push(b(d,N))}),o.vertices=U),o.points&&(U=[],o.points.forEach(function(E){U.push(b(E,N))}),o.points=U);var g=Math.atan2(N.b,N.a),r=Math.cos(g);o.yInvert=N.d*r<0,o.xInvert=N.a*r<0,0!==g&&(o.addonAngle=g),q.push(o)}else q.push(O)}else{if(!O.block)return;var R=i.blocks[O.block];if(!R||!R.entities)return;var H=N;if("INSERT"===X){var f=O.scale?O.scale.x:1,y=O.scale?O.scale.y:1,Z=0,l=1,E=0;if(O.deg&&(Z=O.deg*Math.PI/180,l=Math.cos(Z),E=Math.sin(Z)),N){var P=f*l,M=f*E,u=-y*E,m=y*l,$=O.center.x,e=O.center.y;H={a:N.a*P+N.c*M,b:N.b*P+N.d*M,c:N.a*u+N.c*m,d:N.b*u+N.d*m,tx:N.a*$+N.c*e+N.tx,ty:N.b*$+N.d*e+N.ty}}else H={a:f*l,b:f*E,c:-y*E,d:y*l,tx:O.center.x,ty:O.center.y}}for(s=0;s<R.entities.length;s++)c.$4w(t,R.entities[s],i,H)}}},z.prototype.parseFile=function(c){var w=this,b=new DxfParser,V=b.parseSync(c);w._dxf=V,w.$19w=w.$1w(V),w._isAc2015="AC1015"===V.header.$ACADVER;var S=w.gv?w.gv.getWidth():1e3,r=w.gv?w.gv.getZoom():1;w._dxfSelfZoom=S/w.$19w.width/r,w.$19w.x-=w.$19w.width/2,w.$19w.y+=w.$19w.height/2;var n,X,I,W=w._models={};for(n=0,X=V.entities.length;X>n;n++)I=V.entities[n],w.$4w(W,I,V);console.log("parse finished"),w.forceUpdate=!0},z.prototype.$3w=function(t,K){var p=1===K?this._shiftX:2===K?this._shiftY:0,E=this._zoom*this._dxfSelfZoom;return(t-p)*E},z.prototype.$2w=function(A,F){var D;if(F.tables&&F.tables.layer&&(D=F.tables.layer.layers[A.layer]),!D||D.visible){var C;return A.color!==g?(C=A.color,0===C&&(C=16777215)):D&&(C=D.color),C||(C=16777215),"#"+((1<<24)+C).toString(16).slice(1)}},z.prototype.$1w=function(H){var $,W,l,T,i,f,V,O,D,q,L,J,s=0;
if(!$&&H.tables&&H.tables.viewPort){q=H.tables.viewPort.viewPorts;for(D in q)if(L=q[D],J=L.viewDirectionFromTarget,L.center&&(L.renderMode===s||J&&0===J.x&&0===J.y&&1===J.z)){l=L.center,T=L.upperRightCorner,i=L.lowerLeftCorner,$={x:T.x,y:T.y},W={x:i.x,y:i.y},f=L.viewWidth||0,V=L.viewHeight||0,L.viewTarget&&(l={x:l.x+L.viewTarget.x,y:l.y+L.viewTarget.y});break}}return!$&&H.header&&(O=H.header,O.$EXTMIN&&O.$EXTMAX&&($=O.$EXTMAX,W=O.$EXTMIN)),f=Math.max(f,$.x-W.x),V=Math.max(V,$.y-W.y),l=l||{x:f/2+W.x,y:V/2+W.y},{width:f,height:V,x:l.x,y:l.y}};var o=P.VirtualCanvas=function(y){this.view=y};o.prototype={},o.prototype.constructor=o,o.prototype.getCanvas=function(){return this.view._canvas},o.prototype.redraw=function(){var f=this.view;f.redraw(),f.validateImpl()},o.prototype.getView=function(){return this.view};var t=P.Context2dProxy=function(_,k){var u=this;u.ctx=_,u.writer=k,u._currentContext={a:1,b:0,c:0,d:1,tx:0,ty:0},u.$3fw(),u._contextStack=[],u._textScale=.8,u._forceSplitEllipse=!0,u._ellipseSegments=32,u._styleToColorCache={};for(var O in CanvasRenderingContext2D.prototype)if("webkitImageSmoothingEnabled"!==O){var P=_[O];if("function"==typeof P)u[O]=function(j,G){return function(){var o=G.apply(_,arguments);return u.$20w(j,arguments),o}}(O,P);else{var d=N.getOwnPropertyDescriptor(CanvasRenderingContext2D.prototype,O);if(!d.get&&!d.set)continue;!function(p){N.defineProperty(u,p,{get:function(){return _[p]},set:function(t){_[p]=t,u.$21w(p,t)}})}(O)}}};t.prototype={},t.prototype.constructor=t,t.prototype.$20w=function(x,n){var p=this;switch(x){case"save":p.$22w();break;case"restore":p.$23w();break;case"translate":p.$24w.apply(p,n);break;case"rotate":p.$26w.apply(p,n);break;case"scale":p.$25w.apply(p,n);break;case"setTransform":p.$27w.apply(p,n);break;case"transform":p.$28w.apply(p,n);break;case"fillText":case"strokeText":p.$30w(n[0],n[1],n[2],"fillText"===x);break;case"rect":p.$31w.apply(p,n);break;case"fill":p.$32w();break;case"stroke":p.$3ew();break;case"moveTo":p.$34w(n[0],n[1]);break;case"lineTo":p.$35w(n[0],n[1]);break;case"beginPath":p.$39w();break;case"closePath":p.$3aw();break;case"arc":p.$36w.apply(p,n);break;case"ellipse":p.$37w.apply(p,n);break;case"quadraticCurveTo":p.$38w([{x:n[0],y:n[1]}],n[2],n[3]);break;case"bezierCurveTo":p.$38w([{x:n[0],y:n[1]},{x:n[2],y:n[3]}],n[4],n[5])}},t.prototype.$21w=function(){},t.prototype.$22w=function(){var t=this,u={},v=t._currentContext;for(var $ in v)u[$]=v[$];t._contextStack.push(u)},t.prototype.$23w=function(){var W=this;W._currentContext=W._contextStack.pop(),W.$29w()},t.prototype.$24w=function(P,X){if(0!==P||0!==X){var j=this,x=j._currentContext,W=x.a,e=x.b,z=x.c,k=x.d;x.tx=W*P+z*X+x.tx,x.ty=e*P+k*X+x.ty,j.$29w()}},t.prototype.$25w=function(u,a){if(1!==u||1!==a){var o=this,A=o._currentContext;A.a*=u,A.b*=u,A.c*=a,A.d*=a,o.$29w()}},t.prototype.$26w=function(S){var m=Math.cos(S),M=Math.sin(S),W=this,u=W._currentContext,x=u.a,z=u.b,C=u.c,U=u.d;u.a=x*m+C*M,u.b=z*m+U*M,u.c=-x*M+C*m,u.d=-z*M+U*m,W.$29w()},t.prototype.$27w=function(u,z,M,H,A,y){var p=this,C=p._currentContext;C.a=u,C.b=z,C.c=M,C.d=H,C.tx=A,C.ty=y,p.$29w()},t.prototype.$28w=function(p,L,H,b,N,J){var V=this,X=V._currentContext,D=X.a,n=X.b,q=X.c,x=X.d;X.a=D*p+q*L,X.b=n*p+x*L,X.c=D*H+q*b,X.d=n*H+x*b,X.tx=D*N+q*J+X.tx,X.ty=n*N+x*J+X.ty,V.$29w()},t.prototype.$29w=function(){var w=this;w.writer.$40w(w._currentContext)},t.prototype.$2aw=function(){var Q=this._currentContext;return 0===Q.b&&0===Q.c?0:Math.atan2(Q.b,Q.a)},t.prototype.$2bw=function(){var S=this._currentContext;return{x:Math.sqrt(S.a*S.a+S.c*S.c),y:Math.sqrt(S.b*S.b+S.d*S.d)}},t.prototype.$2cw=function(u){var x=this._currentContext,g=u.x,t=u.y;return{x:x.a*g+x.c*t+x.tx,y:x.b*g+x.d*t+x.ty}},t.prototype.$2dw=function(N){for(var E=this,O=new Array(N.length),g=0,L=N.length;L>g;g++)O[g]=E.$2cw(N[g]);return O},t.prototype.$2ew=function(R){var I=this._currentContext;return R*Math.sqrt(I.a*I.a+I.b*I.b)},t.prototype._equal=function(s,k){var $=s-k;return $>-1e-5&&1e-5>$},t.cadColorConst=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215],t.prototype.$2fw=function(n){var G=this,r=G._styleToColorCache[n];if(r!==g)return r;for(var Q,W,p,_="string"==typeof n?parseInt("0x"+n.slice(1)):7,x=t.cadColorConst,m=1e4,P=0,F=x.length;F>P;P++)Q=x[P],W=Math.abs((Q>>16)-(_>>16))+Math.abs((255&Q>>8)-(255&_>>8))+Math.abs((255&Q)-(255&_)),m>W&&(m=W,p=P);return G._styleToColorCache[n]=p,p},t.prototype.$30w=function(L,R,x,d){var V,n,H=this,e=H.ctx,T=e.font,B=d?e.fillStyle:e.strokeStyle,Q=e.textAlign,o=e.textBaseline;n=e.measureText("e").width,R+=n/2,"left"!==Q&&(V=e.measureText(L).width,"center"===Q?R-=V/2:"right"===Q&&(R-=V)),"middle"===o&&(x+=n/2);var v,K=8;"string"==typeof T&&(v=T.match(/^\d+/),v&&(K=v[0]));var G=H.$2aw(),q=H.$2fw(B);L=(""+L).split("\n").join(","),H.writer.$49w(L,H.$2cw({x:R,y:x}),H.$2ew(H._textScale*K),G,q)},t.prototype.$31w=function(R,r,F,p){var $=this,l=$.$2dw([{x:R,y:r},{x:R+F,y:r},{x:R+F,y:r+p},{x:R,y:r+p}]);$.$3bw(l[0]),$._path.push({type:"rect",points:l})},t.prototype.$32w=function(){var r,K=this,y=K._path;if(y.length){var U=y.length;"closePath"!==y[y.length-1].subType&&K.$3aw();var l,L,S,W=K.$2fw(K.ctx.fillStyle),P=!0;for(S=0;U>S;S++){if(l=y[S].type,"moveTo"!==l&&"rect"!==l){P=!1;break}if("rect"===l){if(L){P=!1;break}L=S}}P?(r=y[L],K.writer.$4aw(r.points,W)):(K._filling=!0,K._hatchContext={startId:K.writer.entities.length,color:W},K.$3ew(),K.$33w(),K._filling=g)}},t.prototype.$33w=function(){var D=this,c=D._hatchContext;if(c){var z=c.startId,e=D.writer.entities,P=e.length,u=P-z;if(u){var k;for(k=z;P>k;k++)e[k].invisible=!0;D.writer.$45w(u,c.color),c.startId=e.length}}},t.prototype.$34w=function(q,X){var k=this,N=k.$2cw({x:q,y:X});k._headPoint=N,k._path.push({type:"moveTo",x:N.x,y:N.y})},t.prototype.$35w=function(W,p){var T=this,L=T.$2cw({x:W,y:p});T._path.push({type:"lineTo",x:L.x,y:L.y})},t.prototype.$36w=function(p,u,X,n,K,R){this.$37w(p,u,X,X,0,n,K,R)},t.prototype.$37w=function(C,T,p,d,U,j,B,V){var I,Y,c,e,N,X,Z,H,$,S,q,M,J,W,x,i=this,v=i.$2bw(),_=i.$2cw({x:C,y:T});X=Math.sin(U),Z=Math.cos(U);var F=function(o){var s=p*Math.cos(-o),B=d*Math.sin(-o);return i.$2cw({x:C+(Z*s-X*B),y:T+(X*s+Z*B)})},u=[],f=B;if(V)for(;f>=j;)f-=2*Math.PI;else for(;j>=f;)f+=2*Math.PI;for(S=(f-j)/i._ellipseSegments,M=0;M<=i._ellipseSegments;M++)q=j+S*M,J=F(-q),u.push(J);if(e=u[0],N=u[u.length-1],I=i.$3cw(j,B,V),j=I.start,B=I.end,i.$3bw(e),H=i._equal(v.x,v.y),$=i._equal(p,d),!i._forceSplitEllipse&&H&&$&&i._equal(Math.abs(j-B),2*Math.PI))i._path.push({type:"circle",x:_.x,y:_.y,end:N,keyPoints:u,radius:p*v.x});else if(!i._forceSplitEllipse&&H&&$)Y=i.$2aw(),c=Math.cos(Y),W=i._currentContext.a*c<0,x=i._currentContext.d*c<0,I=i.$3dw(j,B,W,x),j=I.start-Y,B=I.end-Y,i._path.push({type:"arc",x:_.x,y:_.y,end:N,radius:p*v.x,startAngle:j,endAngle:B,keyPoints:u});else{if(i._forceSplitEllipse||!H){for(M=1;M<=i._ellipseSegments;M++)J=u[M],i._path.push({type:"lineTo",x:J.x,y:J.y});return}var l,O,E=F(0),o=F(Math.PI/2),k=function(z,l){var o=z.x-l.x,M=z.y-l.y;return Math.sqrt(o*o+M*M)},w=k(E,_),b=k(o,_);b>w?(O=w,w=b,b=O,l=o):l=E,Y=i.$2aw(),c=Math.cos(Y),W=i._currentContext.a*c<0,x=i._currentContext.d*c<0,I=i.$3dw(j-Math.PI/2,B-Math.PI/2,W,x),j=I.start,B=I.end,i._path.push({type:"ellipse",x:_.x,y:_.y,end:N,major:{x:l.x-_.x,y:l.y-_.y},ratio:b/w,startAngle:j,endAngle:B,keyPoints:u})}},t.prototype.$38w=function(w,T,c){var W=this,b=W.$2cw({x:T,y:c});this._path.push({type:"bezier",x:b.x,y:b.y,ctrl:W.$2dw(w)})},t.prototype.$39w=function(){this.$3fw()},t.prototype.$3aw=function(){var u=this,x=u._headPoint;x&&(u._path.push({type:"lineTo",x:x.x,y:x.y,subType:"closePath"}),u._headPoint=null,u._lastPoint=null)},t.prototype.$3bw=function(M){var S=this;return S._headPoint?(S._path.push({type:"lineTo",x:M.x,y:M.y,subType:"connect"}),void 0):(S._headPoint=M,S._path.push({type:"moveTo",x:M.x,y:M.y}),void 0)},t.prototype.$3cw=function(c,s,R){c=-c,s=-s;var o,T=c%(2*Math.PI),V=s%(2*Math.PI);for(0>T&&(T+=2*Math.PI),0>V&&(V+=2*Math.PI),R||(o=T,T=V,V=o);T>=V;)V+=2*Math.PI;return{start:T,end:V}},t.prototype.$3dw=function(L,U,i,q){var s;return(q||i)&&(i&&q?(L=Math.PI+L,U=Math.PI+U):(s=Math.PI*(i?1:2)-U,U=Math.PI*(i?1:2)-L,L=s)),{start:L,end:U}},t.prototype.$3ew=function(){var m=this,G=m._path;if(G.length){var r,w,I,n,h,g,d=[],Y=m.$2fw(m.ctx.strokeStyle),e=function(){d.length>1&&m.writer.$48w(d,Y),d=[]};for(w=0,r=G.length;r>w;w++){if(I=G[w],m._filling&&["circle","arc","ellipse"].indexOf(I.type)>=0){if(g=I.keyPoints,!m._lastPoint)break;d.length||d.push(m._lastPoint),d=d.concat(g),m._lastPoint=I.end;break}switch(I.type){case"moveTo":e(),m._filling&&m.$33w(),m._lastPoint={x:I.x,y:I.y},d.push(m._lastPoint);break;case"lineTo":if(!m._lastPoint)break;d.length||d.push(m._lastPoint),d.push({x:I.x,y:I.y}),m._lastPoint={x:I.x,y:I.y};break;case"rect":e(),h=[].concat(I.points,I.points[0]),m.writer.$48w(h,Y),m._lastPoint=I.points[0];break;case"circle":e(),m.writer.$43w(I.x,I.y,I.radius,Y),m._lastPoint=I.end;break;case"arc":e(),m.writer.$44w(I.x,I.y,I.radius,I.startAngle,I.endAngle,Y),m._lastPoint=I.end;break;case"ellipse":e(),m.writer.$46w(I.x,I.y,I.major,I.ratio,I.startAngle,I.endAngle,Y),m._lastPoint=I.end;break;case"bezier":if(e(),n=m._lastPoint,!n)break;m.writer.$47w(n.x,n.y,I.x,I.y,I.ctrl,Y),m._lastPoint={x:I.x,y:I.y};break;default:d.push({x:I.x,y:I.y})}}e()}},t.prototype.$3fw=function(){var a=this;a._path=[],a._lastPoint=null,a._headPoint=null};var p=P.DxfWriter=function(b){var U=this;U.version=b||"AC1027",U._lineContents=[],U._entityList=[]};p.prototype={},p.prototype.constructor=p,p.version="0.9.2",N.defineProperties(p.prototype,{entities:{get:function(){return this._entityList}}}),p.prototype.snapshotView=function(U){this.snapshotVCanvas(new o(U))},p.prototype.snapshotVCanvas=function(y){var M=this;M._lineContents=[],M._viewport={left:1/0,up:-1/0,right:-1/0,down:1/0},M._matrix={a:1,b:0,c:0,d:-1,tx:0,ty:0};var F=y.getCanvas(),z=y.getView()._42,k=F.getContext;F.getContext=function(f){return function(_){var W=f.apply(this,arguments);return"2d"===_&&(W=M.$41w(W)),W}}(F.getContext),y.getView()._42=function(Q){return z.call(y.getView(),Q)},y.redraw(),y.getView()._42=z,F.getContext=k},p.prototype.$40w=function(){},p.prototype.$41w=function(K){return new t(K,this)},p.prototype.write=function(){var y=this;return y.$4cw(),y.$56w(),y.$57w(),y.$59w(),y.$58w(),y.$67w(),y._lineContents.join("\n")},p.prototype.$42w=function(n,w,z,K){var t=this;t.$4bw("LINE",{p1:n=t.$2cw(n),p2:w=t.$2cw(w),color:z||7,layer:K||0}),t.$64w([n,w])},p.prototype.$43w=function(i,k,f,x){var p=this,Y=p.$2ew(f),v=p.$2cw({x:i,y:k});p.$4bw("CIRCLE",{center:v,radius:Y,color:x}),p.$64w([{x:v.x-Y,y:v.y-Y},{x:v.x+Y,y:v.y+Y}])},p.prototype.$44w=function(f,h,F,t,C,p){var e=this,F=e.$2ew(F),S=e.$2cw({x:f,y:h});e.$4bw("ARC",{center:S,radius:F,color:p,startAngle:t,endAngle:C}),e.$64w([{x:S.x-F,y:S.y-F},{x:S.x+F,y:S.y+F}])},p.prototype.$45w=function(K,b){this.$4bw("HATCH",{color:b||7,edgeNum:K})},p.prototype.$46w=function(z,g,F,n,v,c,X){var W=this,p=W.$2cw({x:z,y:g}),F=W.$2cw(F);W.$4bw("ELLIPSE",{center:p,majorAxis:F,axisRatio:n,color:X,startAngle:v,endAngle:c}),W.$64w([{x:p.x-F.x,y:p.y-F.y},{x:p.x+F.x,y:p.y+F.y}])},p.prototype.$47w=function(U,n,l,Q,y,e){var i=this,K=i.$2cw({x:U,y:n}),Y=i.$2cw({x:l,y:Q}),o=i.$2dw(y);i.$4bw("SPLINE",{source:K,dest:Y,ctrl:o,color:e||7}),i.$64w([K,Y]),i.$64w(y)},p.prototype.$48w=function(s,O,g){var k=this;k.$4bw("LWPOLYLINE",{points:s=k.$2dw(s),color:O||7,layer:g||0}),k.$64w(s)},p.prototype.$49w=function(Y,S,o,R,m){var j=this;j.$4bw("TEXT",{text:Y,pos:S=j.$2cw(S),size:j.$2ew(o),degree:j.$8bw(R||0),color:m||7}),j.$64w([S])},p.prototype.$4aw=function(V,A){var S=this,C=[V[0],V[1],V[3],V[2]];S.$4bw("SOLID",{points:C=S.$2dw(C),color:A||7}),S.$64w(C)},p.prototype.$4bw=function(k,d){d.type=k,this._entityList.push(d)},p.prototype.$4cw=function(){var e=this;e.$76w("HT Dxf Writer. Version: "+p.version),e.$72w(),e.$7aw(9,"$ACADVER"),e.$7aw(1,e.version),e.$7aw(9,"$INSBASE"),e.$79w(10,0),e.$79w(20,0),e.$79w(30,0),e.$7aw(9,"$EXTMIN"),e.$79w(10,0),e.$79w(20,0),e.$79w(30,0),e.$7aw(9,"$EXTMAX"),e.$79w(10,1e3),e.$79w(20,1e3),e.$79w(30,0),e.$7aw(9,"$HANDSEED"),e._dxfHandleValue=672,e.$6dw(),e.$74w()},p.prototype.$4dw=function(){var r=this,e=r._viewport;r.$75w("VPORT",8,1),r.$7aw(0,"VPORT"),r.$77w(5,94),r.$77w(330,8),r.$7aw(100,"AcDbSymbolTableRecord"),r.$7aw(100,"AcDbViewportTableRecord"),r.$7aw(2,"*Active"),r.$77w(70,0),r.$79w(10,0),r.$79w(20,0),r.$79w(11,1),r.$79w(21,1),r.$79w(12,(e.left+e.right)/2),r.$79w(22,(e.down+e.up)/2),r.$79w(13,0),r.$79w(23,0),r.$79w(14,1),r.$79w(24,1),r.$79w(15,0),r.$79w(25,0),r.$79w(16,0),r.$79w(26,0),r.$79w(36,1),r.$79w(17,0),r.$79w(27,0),r.$79w(37,0),r.$79w(40,e.up-e.down),r.$79w(41,(e.up-e.down)/(e.right-e.left)),r.$79w(42,50),r.$79w(43,0),r.$79w(44,0),r.$79w(50,0),r.$79w(51,0),r.$77w(71,0),r.$77w(72,1e3),r.$77w(73,1),r.$77w(74,3),r.$77w(75,0),r.$77w(76,0),r.$77w(77,0),r.$77w(78,0),r.$71w()},p.prototype.$4ew=function(){var y=this;y.$75w("LTYPE",5,1),y.$73w(14,"ByBlock"),y.$73w(15,"ByLayer"),y.$73w(16,"Continuous","Solid line"),y.$71w()},p.prototype.$4fw=function(){var B=this;B.$75w("LAYER",2,1),B.$7aw(0,"LAYER"),B.$77w(5,10),B.$77w(330,2),B.$7aw(100,"AcDbSymbolTableRecord"),B.$7aw(100,"AcDbLayerTableRecord"),B.$77w(2,0),B.$77w(70,0),B.$77w(62,7),B.$7aw(6,"Continuous"),B.$7aw(390,"F"),B.$71w()},p.prototype.$50w=function(){var t=this;t.$75w("STYLE",3,2),t.$69w("Standard","11"),t.$69w("Annotative","DC"),t.$71w()},p.prototype.$51w=function(){var B=this;B.$75w("UCS",7,0),B.$71w()},p.prototype.$52w=function(){var p=this;p.$75w("VIEW",6,1),p.$71w()},p.prototype.$53w=function(){var H=this;H.$75w("APPID",9,7),H.$6aw("ACAD","12"),H.$6aw("AcadAnnoPO","DD"),H.$6aw("AcadAnnotative","DE"),H.$6aw("ACAD_DSTYLE_DIMJAG","DF"),H.$6aw("ACAD_DSTYLE_DIMTALN","E0"),H.$6aw("ACAD_MLEADERVER","107"),H.$6aw("ACAD_NAV_VCDISPLAY","1A6"),H.$71w()},p.prototype.$54w=function(){var w=this;w.$75w("DIMSTYLE","A",2),w.$7aw(100,"AcDbDimStyleTable"),w.$77w(71,2),w.$7aw(340,"27"),w.$7aw(340,"E1"),w.$71w()},p.prototype.$55w=function(){var I=this;I.$75w("BLOCK_RECORD",1,1),I.$6bw("*Model_Space","1F","22"),I.$6bw("*Paper_Space","58","59"),I.$6bw("*Paper_Space0","5D","5E"),I.$71w()},p.prototype.$56w=function(){var D=this;D.$70w(),D.$4dw(),D.$4ew(),D.$4fw(),D.$50w(),D.$52w(),D.$51w(),D.$53w(),D.$54w(),D.$55w(),D.$74w()},p.prototype.$57w=function(){var s=this;s.$68w("BLOCKS"),s.$6cw("*Model_Space",32,31),s.$6cw("*Paper_Space",90,88,!0),s.$6cw("*Paper_Space0",95,93,!0),s.$74w()},p.prototype.$58w=function(){var x=this;x.$68w("OBJECTS"),x.$6ew("C","0",0,1),x.$6fw(350,{ACAD_CIP_PREVIOUS_PRODUCT_INFO:"1A5",ACAD_COLOR:"73",ACAD_DETAILVIEWSTYLE:"1AB",ACAD_GROUP:"D",ACAD_LAYOUT:"1A",ACAD_MATERIAL:"72",ACAD_MLEADERSTYLE:"D7",ACAD_MLINESTYLE:"17",ACAD_PLOTSETTINGS:"19",ACAD_PLOTSTYLENAME:"E",ACAD_SCALELIST:"B6",ACAD_SECTIONVIEWSTYLE:"1A8",ACAD_TABLESTYLE:"86",ACAD_VISUALSTYLE:"99",ACDB_RECOMPOSE_DATA:"2A6",AcDbVariableDictionary:"66"}),x.$6ew("18E","2",1,1),x.$6fw(360,{ACAD_LAYERSTATES:"18F"}),x.$6ew("15D","1F",1,1),x.$6ew("D","C",0,1),x.$6ew("1A","C",0,1),x.$6fw(350,{Layout1:"59",Layout2:"5E",Model:"22"}),x.$6ew("D7","C",0,1),x.$6fw(350,{Annotative:"E5",Standard:"D8"}),x.$6ew("17","C",0,1),x.$6fw(350,{Standard:18}),x.$6ew("19","C",0,1),x.$74w()},p.prototype.$59w=function(){var K=this;K.$68w("ENTITIES"),K._dxfHandleValue=720;var i,o,f,k=K._entityList;for(i in k)if(f=k[i],f.id=i,!f.invisible)switch(o=f.type,K.$7aw(0,o),K.$6dw(),K.$78w(330,31),K.$7aw(100,"AcDbEntity"),K.$77w(62,f.color||7),K.$77w(8,f.layer||0),o){case"LINE":K.$5aw(f);break;case"TEXT":K.$65w(f);break;case"SOLID":K.$66w(f);break;case"LWPOLYLINE":K.$63w(f);break;case"CIRCLE":K.$5bw(f);break;case"ARC":K.$5cw(f);break;case"ELLIPSE":K.$5dw(f);break;case"SPLINE":K.$5ew(f);break;case"HATCH":K.$5fw(f)}K.$74w()},p.prototype.$5aw=function(j){var P=this,l=j.p1,S=j.p2;P.$7aw(100,"AcDbLine"),P.$7cw(10,l),P.$7cw(11,S)},p.prototype.$5bw=function(t){var X=this;X.$7aw(100,"AcDbCircle"),X.$7cw(10,t.center),X.$79w(40,t.radius)},p.prototype.$5cw=function(M){var F=this;F.$7aw(100,"AcDbCircle"),F.$7cw(10,M.center),F.$79w(40,M.radius),F.$7aw(100,"AcDbArc"),F.$79w(50,F.$8bw(M.startAngle)),F.$79w(51,F.$8bw(M.endAngle))},p.prototype.$5dw=function(P){var h=this;h.$7aw(100,"AcDbEllipse"),h.$7cw(10,P.center),h.$7cw(11,P.majorAxis),h.$79w(40,P.axisRatio),h.$79w(41,P.startAngle),h.$79w(42,P.endAngle)},p.prototype.$5ew=function(R){var g=this,K=[R.source];K=K.concat(R.ctrl,[R.dest]);var w,s=K.length;for(g.$7aw(6,"Continuous"),g.$7aw(100,"AcDbSpline"),g.$77w(70,8),g.$77w(71,s-1),g.$77w(72,2*s),g.$77w(73,s),g.$77w(74,0),g.$7aw(42,"0.000000001"),g.$7aw(43,"0.0000000001"),w=0;s>w;w++)g.$7aw(40,"0.0");for(w=0;s>w;w++)g.$7aw(40,"1.0");for(w=0;s>w;w++){var L=K[w];g.$79w(10,L.x),g.$79w(20,L.y),g.$79w(30,0)}},p.prototype.$5fw=function(d){var w=this;w.$7aw(6,"Continuous"),w.$7aw(100,"AcDbHatch"),w.$7cw(10,{x:0,y:0,z:0}),w.$7cw(210,{x:0,y:0,z:1}),w.$7aw(2,"SOLID"),w.$77w(70,1),w.$77w(71,0),w.$60w(d),w.$62w(d)},p.prototype.$60w=function(P){var U=this;U.$77w(91,1);var C,m,W,x,i=U._entityList;for(W=0,m=5,C=P.id-P.edgeNum;C<P.id;C++)switch(x=i[C],x.type){case"ARC":case"CIRCLE":case"ELLIPSE":case"LINE":case"SPLINE":W+=1;break;case"LWPOLYLINE":W+=x.points.length-1}for(U.$77w(92,m),2!==(2&P.pathTypeFlag)&&U.$77w(93,W),C=P.id-P.edgeNum;C<P.id;C++)U.$61w(i[C]);U.$77w(97,0)},p.prototype.$61w=function(L){var R,J,f,p=this;switch(L.type){case"LWPOLYLINE":for(J=L.points.length,R=0;J-1>R;R++)p.$77w(72,1),p.$7cw(10,L.points[R]),p.$7cw(11,L.points[R+1]);break;case"ARC":p.$77w(72,2),p.$7cw(10,L.center),p.$79w(40,L.radius),p.$79w(50,p.$8bw(L.startAngle)),p.$79w(51,p.$8bw(L.endAngle));break;case"CIRCLE":p.$77w(72,2),p.$7cw(10,L.center),p.$7cw(40,L.radius),p.$79w(50,0),p.$79w(51,360);break;case"ELLIPSE":p.$77w(72,3),p.$7cw(10,L.center),p.$7cw(11,L.majorAxis),p.$79w(40,L.axisRatio),p.$79w(50,L.startAngle),p.$79w(51,L.endAngle);break;case"SPLINE":for(p.$77w(72,4),f=[L.source],f=f.concat(L.ctrl,[L.dest]),J=f.length,p.$77w(94,J-1),p.$77w(73,0),p.$77w(74,0),p.$77w(95,2*J),p.$77w(96,J),R=0;J>R;R++)p.$7aw(40,"0.0");for(R=0;J>R;R++)p.$7aw(40,"1.0");for(R=0;J>R;R++){var B=f[R];p.$79w(10,B.x),p.$79w(20,B.y)}p.$77w(97,0)}},p.prototype.$62w=function(){var X=this;X.$77w(75,1),X.$77w(76,1),X.$79w(47,0),X.$77w(98,1),X.$79w(10,0),X.$79w(20,0),X.$77w(450,0),X.$77w(451,0),X.$79w(460,0),X.$79w(461,0),X.$77w(452,0),X.$79w(462,1),X.$77w(453,0),X.$7aw(470,"LINEAR")},p.prototype.$63w=function(V){var m,B=this,r=V.points.length;for(B.$7aw(6,"Continuous"),B.$7aw(100,"AcDbPolyline"),B.$77w(90,r),B.$77w(70,0),B.$79w(43,0),m=0;r>m;m++)B.$7cw(10,V.points[m])},p.prototype.$64w=function(h){var M,R,f,V=this,L=V._viewport;for(R=0,f=h.length;f>R;R++)M=h[R],M.x<L.left&&(L.left=M.x),M.x>L.right&&(L.right=M.x),M.y<L.down&&(L.down=M.y),M.y>L.up&&(L.up=M.y)},p.prototype.$65w=function(x){var D=this,V=x.text,e=x.pos,m=x.size,M=x.degree;x.color,D.$7aw(100,"AcDbText"),D.$7cw(10,e),D.$79w(40,m),D.$7aw(1,V),D.$79w(50,360-M),D.$7aw(100,"AcDbText")},p.prototype.$66w=function(w){var r=this;r.$7aw(100,"AcDbTrace"),r.$7cw(10,w.points[0]),r.$7cw(11,w.points[1]),r.$7cw(12,w.points[2]),r.$7cw(13,w.points[3])},p.prototype.$67w=function(){this.$7aw(0,"EOF")},p.prototype.$68w=function(D){var k=this;k.$7aw(0,"SECTION"),k.$7aw(2,D)},p.prototype.$69w=function(S,K){var a=this;a.$7aw(0,"STYLE"),a.$7aw(5,K),a.$7aw(330,3),a.$7aw(100,"AcDbSymbolTableRecord"),a.$7aw(100,"AcDbTextStyleTableRecord"),a.$7aw(2,S),a.$77w(70,0),a.$79w(40,0),a.$79w(41,1),a.$79w(50,0),a.$77w(71,0),a.$79w(42,.2),a.$7aw(3,"Arial.ttf"),a.$7aw(4,""),a.$7aw(1001,"ACAD"),a.$7aw(1e3,"Arial"),a.$77w(1071,34)},p.prototype.$6aw=function(t,E){var h=this;h.$7aw(0,"APPID"),h.$7aw(5,E),h.$77w(330,9),h.$7aw(100,"AcDbSymbolTableRecord"),h.$7aw(100,"AcDbRegAppTableRecord"),h.$7aw(2,t),h.$77w(70,0)},p.prototype.$6bw=function(R,Q,L){var l=this;l.$7aw(0,"BLOCK_RECORD"),l.$7aw(5,Q),l.$77w(330,1),l.$7aw(100,"AcDbSymbolTableRecord"),l.$7aw(100,"AcDbBlockTableRecord"),l.$7aw(2,R),l.$7aw(340,L),l.$77w(70,0),l.$77w(280,1),l.$77w(281,0)},p.prototype.$6cw=function(R,W,Y,g){var w=this;w.$7aw(0,"BLOCK"),w.$78w(5,W),w.$78w(330,Y),w.$7aw(100,"AcDbEntity"),g&&w.$77w(67,1),w.$77w(8,0),w.$7aw(100,"AcDbBlockBegin"),w.$7aw(2,R),w.$77w(70,0),w.$79w(10,0),w.$79w(20,0),w.$79w(30,0),w.$7aw(3,R),w.$7aw(1,""),w.$7aw(0,"ENDBLK"),w.$78w(5,W+1),w.$78w(330,Y),w.$7aw(100,"AcDbEntity"),g&&w.$77w(67,1),w.$77w(8,0),w.$7aw(100,"AcDbBlockEnd")},p.prototype.$6dw=function(){var $=this;$.$78w(5,$._dxfHandleValue++)},p.prototype.$6ew=function(e,O,f,E){var X=this;X.$7aw(0,"DICTIONARY"),X.$7aw(5,e),"C"===O&&(X.$7aw(102,"{ACAD_REACTORS"),X.$7aw(330,O),X.$7aw(102,"}")),X.$7aw(330,O),X.$7aw(100,"AcDbDictionary"),f&&X.$77w(280,f),X.$77w(281,E)},p.prototype.$6fw=function(g,j){var N=this;for(var P in j){var Z=j[P];N.$7aw(3,P),N.$7aw(g,Z)}},p.prototype.$70w=function(){this.$68w("TABLES")},p.prototype.$71w=function(){this.$7aw(0,"ENDTAB")},p.prototype.$72w=function(){this.$68w("HEADER")},p.prototype.$73w=function(G,X,J){var E=this;E.$7aw(0,"LTYPE"),E.$77w(5,G),E.$77w(330,5),E.$7aw(100,"AcDbSymbolTableRecord"),E.$7aw(100,"AcDbLinetypeTableRecord"),E.$7aw(2,X),E.$77w(70,0),E.$77w(3,J||""),E.$77w(72,65),E.$77w(73,0),E.$79w(40,0)},p.prototype.$74w=function(){this.$7aw(0,"ENDSEC")},p.prototype.$75w=function(l,I,Z){var q=this;q.$7aw(0,"TABLE"),q.$7aw(2,l),q.$77w(5,I),q.$77w(330,0),q.$7aw(100,"AcDbSymbolTable"),q.$77w(70,Z)},p.prototype.$76w=function(C){this.$7aw(999,C)},p.prototype.$77w=function(F,e){return this.$7aw(F,e)},p.prototype.$78w=function(U,d){return this.$7aw(U,d.toString(16).toUpperCase())},p.prototype.$79w=function(W,J){return J=""+J,J.indexOf(".")<0&&(J+=".0"),this.$7aw(W,J)},p.prototype.$7aw=function(T,u){var L;L=10>T?"  ":100>T?" ":"",this._lineContents.push(L+T+"\n"+u)},p.prototype.$7bw=function(Q){this._lineContents.push(Q.join("\n"))},p.prototype.$7cw=function(N,m){var n=this;n.$79w(N,m.x),n.$79w(N+10,m.y),m.z!==g&&n.$79w(N+20,m.z)},p.prototype.$7dw=function(x){var L,y,F=this;for(L=0,y=x.length;y>L;L++)F.$7aw(0,"VERTEX"),F.$77w(8,0),F.$7cw(10,x[L])},p.prototype.$2cw=function(p){var I=this._matrix,H=p.x,w=p.y;return{x:I.a*H+I.c*w+I.tx,y:I.b*H+I.d*w+I.ty}},p.prototype.$2dw=function(b){for(var m=this,A=new Array(b.length),p=0,N=b.length;N>p;p++)A[p]=m.$2cw(b[p]);return A},p.prototype.$2ew=function(Q){var Z=this._matrix;return Q*Math.sqrt(Z.a*Z.a+Z.b*Z.b)},p.prototype.$8bw=function(E){return 180*(E/Math.PI)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);