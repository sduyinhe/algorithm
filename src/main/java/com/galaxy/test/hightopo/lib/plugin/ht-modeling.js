!function(k,o,z){"use strict";var f="ht",C=k[f],x=null,P=Math,A=P.PI,l=P.cos,w=P.sin,G=P.abs,m=P.max,J=P.sqrt,B=1e-5,L=C.Default,Y=L.def,U=L.startAnim,N=L.createMatrix,H=L.transformVec,O=L.getInternal(),M=O.addMethod,h=O.superCall,a=O.toPointsArray,F=O.createNormals,i=O.toFloatArray,E=O.glMV,K=O.batchShape,t=O.createNodeMatrix,g=O.getFaceInfo,Z=O.transformAppend,j=O.drawFaceInfo,q=O.createAnim,T=O.cube(),p=T.is,W=T.vs,D=T.uv,S=O.ui(),r=C.Node,e=C.Shape,v="h",X="v",s="front",n="back",R="left",b="right",Q="top",$="bottom",I="dw.expanded",y=".expanded",u="dw.angle",_=".angle",V=function(L,l,F){Y(f+"."+L,l,F)},d=function(X,Y,C){C?X.push(Y.x,Y.y):X.push(Y.x,Y.y,Y.z)},c=[1,0,0],Ph=function(s,j,K,I){var M,G,p,O,b=0,l=[];if(I)for(M=I.length;M>b;b+=3)G=I[b],p=I[b+1],O=I[b+2],l.push(new zb([new Wk([j[3*G],j[3*G+1],j[3*G+2]],c,K?[K[2*G],K[2*G+1],0]:x),new Wk([j[3*p],j[3*p+1],j[3*p+2]],c,K?[K[2*p],K[2*p+1],0]:x),new Wk([j[3*O],j[3*O+1],j[3*O+2]],c,K?[K[2*O],K[2*O+1],0]:x)],s));else for(M=j.length;M>b;b+=3)G=b,p=b+1,O=b+2,l.push(new zb([new Wk([j[3*G],j[3*G+1],j[3*G+2]],c,K?[K[2*G],K[2*G+1],0]:x),new Wk([j[3*p],j[3*p+1],j[3*p+2]],c,K?[K[2*p],K[2*p+1],0]:x),new Wk([j[3*O],j[3*O+1],j[3*O+2]],c,K?[K[2*O],K[2*O+1],0]:x)],s));return l},Xj=[R,s,b,n,Q,$],Sl=Xj.concat("csg"),kk=[0,6,12,18,24,30],jr=function(M,Z,Y){for(var i=t(M),g=[],y=0;6>y;y++)for(var b=Xj[y],J=kk[y],R=Y?Z.getFaceUv(M,b):x,r=Y?Z.getFaceUvScale(M,b):x,s=Y?Z.getFaceUvOffset(M,b):x,j=0;2>j;j++){var q,k,B,n=p[J+3*j],S=p[J+3*j+1],T=p[J+3*j+2];if(Y){if(R){var l=8*y;q=[R[2*n-l],R[2*n+1-l],0],k=[R[2*S-l],R[2*S+1-l],0],B=[R[2*T-l],R[2*T+1-l],0]}else q=[D[2*n],D[2*n+1],0],k=[D[2*S],D[2*S+1],0],B=[D[2*T],D[2*T+1],0];r&&(q[0]*=r[0],q[1]*=r[1],k[0]*=r[0],k[1]*=r[1],B[0]*=r[0],B[1]*=r[1]),s&&(q[0]+=s[0],q[1]+=s[1],k[0]+=s[0],k[1]+=s[1],B[0]+=s[0],B[1]+=s[1])}g.push(new zb([new Wk(H([W[3*n],W[3*n+1],W[3*n+2]],i),c,q),new Wk(H([W[3*S],W[3*S+1],W[3*S+2]],i),c,k),new Wk(H([W[3*T],W[3*T+1],W[3*T+2]],i),c,B)],M))}return vp.$15n(g)},ok=function(z,t){var u,E=z.data.getAttaches();if(E&&E.each(function(r){r instanceof dj&&r.s("attach.operation")&&(u||(u=[]),u.push(r))}),u){var X;Xj.forEach(function(P){var _=Ph(P,z[P].vs,z[P].tuv);X=X?X.concat(_):_}),X=vp.$15n(X),u.forEach(function(S){var f=S.s("attach.operation");X[f]&&(X=X[f](jr(S,z.gv,z.csg.tuv)))}),Xj.forEach(function(D){D=z[D],D.vs=[],D.tuv&&(D.tuv=[])}),X.$19n().forEach(function(v){var g=v.$10n;if(g instanceof dj){if(g.s("attach.cull"))return;g="csg"}for(var y=z[g],G=y.vs,o=y.tuv,Q=v.$9n,B=2;B<Q.length;B++)d(G,Q[0].$24n),d(G,Q[B-1].$24n),d(G,Q[B].$24n),o&&(d(o,Q[0].uv,!0),d(o,Q[B-1].uv,!0),d(o,Q[B].uv,!0))})}Sl.forEach(function(I){var n=z[I];n.visible&&n.vs.length?(n.ns=F(n.vs),i(n,"vs"),i(n,"tuv")):delete z[I]}),t&&(K(z,x,t),z.clear())};M(L,{createFrameModel:function(F,W,w,n){F=F==x?.07:F,W=W==x?F:W,w=w==x?F:w,n=n?n:{};var R=n.top,A=n.bottom,G=n.left,U=n.right,l=n.front,b=n.back,d=[],O=[];return l===!0?(d.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),O.push(0,0,0,1,1,1,1,1,1,0,0,0)):l===!1||(d.push(-.5,.5,.5,-.5,-.5,.5,-.5+F,-.5,.5,-.5+F,-.5,.5,-.5+F,.5,.5,-.5,.5,.5,.5-F,.5,.5,.5-F,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-F,.5,.5,-.5+F,.5,.5,-.5+F,.5-W,.5,.5-F,.5-W,.5,.5-F,.5-W,.5,.5-F,.5,.5,-.5+F,.5,.5,-.5+F,-.5+W,.5,-.5+F,-.5,.5,.5-F,-.5,.5,.5-F,-.5,.5,.5-F,-.5+W,.5,-.5+F,-.5+W,.5),O.push(0,0,0,1,F,1,F,1,F,0,0,0,1-F,0,1-F,1,1,1,1,1,1,0,1-F,0,F,0,F,W,1-F,W,1-F,W,1-F,0,F,0,F,1-W,F,1,1-F,1,1-F,1,1-F,1-W,F,1-W)),b===!0?(d.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),O.push(1,0,0,1,1,1,0,1,1,0,0,0)):b===!1||(d.push(-.5,.5,-.5,-.5+F,-.5,-.5,-.5,-.5,-.5,-.5+F,-.5,-.5,-.5,.5,-.5,-.5+F,.5,-.5,.5-F,.5,-.5,.5,-.5,-.5,.5-F,-.5,-.5,.5,-.5,-.5,.5-F,.5,-.5,.5,.5,-.5,-.5+F,.5,-.5,.5-F,.5-W,-.5,-.5+F,.5-W,-.5,.5-F,.5-W,-.5,-.5+F,.5,-.5,.5-F,.5,-.5,-.5+F,-.5+W,-.5,.5-F,-.5,-.5,-.5+F,-.5,-.5,.5-F,-.5,-.5,-.5+F,-.5+W,-.5,.5-F,-.5+W,-.5),O.push(1,0,1-F,1,1,1,1-F,1,1,0,1-F,0,F,0,0,1,F,1,0,1,F,0,0,0,1-F,0,F,W,1-F,W,F,W,1-F,0,F,0,1-F,1-W,F,1,1-F,1,F,1,1-F,1-W,F,1-W)),G===!0?(d.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),O.push(0,0,0,1,1,1,1,1,1,0,0,0)):G===!1||(d.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+w,-.5,-.5,-.5+w,-.5,.5,-.5+w,-.5,.5,-.5,-.5,.5,.5-w,-.5,-.5,.5-w,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-w,-.5,.5,-.5+w,-.5,.5-W,-.5+w,-.5,.5-W,.5-w,-.5,.5-W,.5-w,-.5,.5,.5-w,-.5,.5,-.5+w,-.5,-.5+W,-.5+w,-.5,-.5,-.5+w,-.5,-.5,.5-w,-.5,-.5,.5-w,-.5,-.5+W,.5-w,-.5,-.5+W,-.5+w),O.push(0,0,0,1,w,1,w,1,w,0,0,0,1-w,0,1-w,1,1,1,1,1,1,0,1-w,0,w,0,w,W,1-w,W,1-w,W,1-w,0,w,0,w,1-W,w,1,1-w,1,1-w,1,1-w,1-W,w,1-W)),U===!0?(d.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),O.push(1,0,0,1,1,1,0,1,1,0,0,0)):U===!1||(d.push(.5,.5,-.5,.5,-.5,-.5+w,.5,-.5,-.5,.5,-.5,-.5+w,.5,.5,-.5,.5,.5,-.5+w,.5,.5,.5-w,.5,-.5,.5,.5,-.5,.5-w,.5,-.5,.5,.5,.5,.5-w,.5,.5,.5,.5,.5,-.5+w,.5,.5-W,.5-w,.5,.5-W,-.5+w,.5,.5-W,.5-w,.5,.5,-.5+w,.5,.5,.5-w,.5,-.5+W,-.5+w,.5,-.5,.5-w,.5,-.5,-.5+w,.5,-.5,.5-w,.5,-.5+W,-.5+w,.5,-.5+W,.5-w),O.push(1,0,1-w,1,1,1,1-w,1,1,0,1-w,0,w,0,0,1,w,1,0,1,w,0,0,0,1-w,0,w,W,1-w,W,w,W,1-w,0,w,0,1-w,1-W,w,1,1-w,1,w,1,1-w,1-W,w,1-W)),R===!0?(d.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),O.push(1,1,1,0,0,0,0,0,0,1,1,1)):R===!1||(d.push(.5,.5,.5,.5,.5,-.5,.5-F,.5,-.5,.5-F,.5,-.5,.5-F,.5,.5,.5,.5,.5,-.5+F,.5,.5,-.5+F,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+F,.5,.5,.5-F,.5,.5,.5-F,.5,.5-w,-.5+F,.5,.5-w,-.5+F,.5,.5-w,-.5+F,.5,.5,.5-F,.5,.5,.5-F,.5,-.5+w,.5-F,.5,-.5,-.5+F,.5,-.5,-.5+F,.5,-.5,-.5+F,.5,-.5+w,.5-F,.5,-.5+w),O.push(1,1,1,0,1-F,0,1-F,0,1-F,1,1,1,F,1,F,0,0,0,0,0,0,1,F,1,1-F,1,1-F,1-w,F,1-w,F,1-w,F,1,1-F,1,1-F,w,1-F,0,F,0,F,0,F,w,1-F,w)),A===!0?(d.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),O.push(1,0,0,1,1,1,0,1,1,0,0,0)):A===!1||(d.push(.5,-.5,.5,.5-F,-.5,-.5,.5,-.5,-.5,.5-F,-.5,-.5,.5,-.5,.5,.5-F,-.5,.5,-.5+F,-.5,.5,-.5,-.5,-.5,-.5+F,-.5,-.5,-.5,-.5,-.5,-.5+F,-.5,.5,-.5,-.5,.5,.5-F,-.5,.5,-.5+F,-.5,.5-w,.5-F,-.5,.5-w,-.5+F,-.5,.5-w,.5-F,-.5,.5,-.5+F,-.5,.5,.5-F,-.5,-.5+w,-.5+F,-.5,-.5,.5-F,-.5,-.5,-.5+F,-.5,-.5,.5-F,-.5,-.5+w,-.5+F,-.5,-.5+w),O.push(1,0,1-F,1,1,1,1-F,1,1,0,1-F,0,F,0,0,1,F,1,0,1,F,0,0,0,1-F,0,F,w,1-F,w,F,w,1-F,0,F,0,1-F,1-w,F,1,1-F,1,F,1,1-F,1-w,F,1-w)),{vs:d,uv:O}}}),M(C.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":z,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":A/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Xj.forEach(function(F){var Y={};Y[F+y]=!1,Y[F+".toggleable"]=!1,Y[F+".axis"]=R,Y[F+".start"]=0,Y[F+".end"]=A/2,Y[F+_]=0,M(C.Style,Y,!0)});var vp=function(){this.$4n=[]};vp.$15n=function(p){var A=new vp;return A.$4n=p,A},vp.prototype={clone:function(){var h=new vp;return h.$4n=this.$4n.map(function(D){return D.clone()}),h},$19n:function(){return this.$4n},union:function(x){var w=new hm(this.clone().$4n),a=new hm(x.clone().$4n);return w.$3n(a),a.$3n(w),a.$6n(),a.$3n(w),a.$6n(),w.$7n(a.$2n()),vp.$15n(w.$2n())},subtract:function(c){var M=new hm(this.clone().$4n),a=new hm(c.clone().$4n);return M.$6n(),M.$3n(a),a.$3n(M),a.$6n(),a.$3n(M),a.$6n(),M.$7n(a.$2n()),M.$6n(),vp.$15n(M.$2n())},intersect:function(V){var o=new hm(this.clone().$4n),h=new hm(V.clone().$4n);return o.$6n(),h.$3n(o),h.$6n(),o.$3n(h),h.$3n(o),o.$7n(h.$2n()),o.$6n(),vp.$15n(o.$2n())},inverse:function(){var y=this.clone();return y.$4n.map(function(J){J.flip()}),y}},vp.cube=function(t){t=t||{};var y=new eq(t.center||[0,0,0]),K=t.radius?t.radius.length?t.radius:[t.radius,t.radius,t.radius]:[1,1,1];return vp.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(v){return new zb(v[0].map(function(w){var g=new eq(y.x+K[0]*(2*!!(1&w)-1),y.y+K[1]*(2*!!(2&w)-1),y.z+K[2]*(2*!!(4&w)-1));return new Wk(g,new eq(v[1]))}))}))},vp.sphere=function(q){function k(B,d){B*=2*A,d*=A;var i=new eq(l(B)*w(d),l(d),w(B)*w(d));T.push(new Wk(W.$20n(i.$21n(o)),i))}q=q||{};for(var T,W=new eq(q.center||[0,0,0]),o=q.radius||1,S=q.slices||16,j=q.stacks||8,r=[],b=0;S>b;b++)for(var R=0;j>R;R++)T=[],k(b/S,R/j),R>0&&k((b+1)/S,R/j),j-1>R&&k((b+1)/S,(R+1)/j),k(b/S,(R+1)/j),r.push(new zb(T));return vp.$15n(r)},vp.cylinder=function(x){function p(T,H,E){var g=2*H*A,I=_.$21n(l(g)).$20n(s.$21n(w(g))),Y=j.$20n(o.$21n(T)).$20n(I.$21n(t)),L=I.$21n(1-G(E)).$20n(i.$21n(E));return new Wk(Y,L)}x=x||{};for(var j=new eq(x.start||[0,-1,0]),T=new eq(x.end||[0,1,0]),o=T.$13n(j),t=x.radius||1,m=x.slices||16,i=o.$14n(),r=G(i.y)>.5,_=new eq(r,!r,0).$12n(i).$14n(),s=_.$12n(i).$14n(),H=new Wk(j,i.$11n()),q=new Wk(T,i.$14n()),P=[],y=0;m>y;y++){var O=y/m,S=(y+1)/m;P.push(new zb([H,p(0,O,-1),p(0,S,-1)])),P.push(new zb([p(0,S,0),p(0,O,0),p(1,O,0),p(1,S,0)])),P.push(new zb([q,p(1,S,1),p(1,O,1)]))}return vp.$15n(P)};var eq=function(L,u,v){var l=this;3==arguments.length?(l.x=L,l.y=u,l.z=v):"x"in L?(l.x=L.x,l.y=L.y,l.z=L.z):(l.x=L[0],l.y=L[1],l.z=L[2])};eq.prototype={clone:function(){return new eq(this.x,this.y,this.z)},$11n:function(){return new eq(-this.x,-this.y,-this.z)},$20n:function(s){return new eq(this.x+s.x,this.y+s.y,this.z+s.z)},$13n:function(L){return new eq(this.x-L.x,this.y-L.y,this.z-L.z)},$21n:function(d){return new eq(this.x*d,this.y*d,this.z*d)},$16n:function(T){return new eq(this.x/T,this.y/T,this.z/T)},$23n:function(I){return this.x*I.x+this.y*I.y+this.z*I.z},lerp:function(Y,W){return this.$20n(Y.$13n(this).$21n(W))},length:function(){return J(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(h){var W=this;return new eq(W.y*h.z-W.z*h.y,W.z*h.x-W.x*h.z,W.x*h.y-W.y*h.x)}};var Wk=function(N,a,S){var v=this;v.$24n=new eq(N),v.$22n=new eq(a),v.uv=S?new eq(S):null};Wk.prototype={clone:function(){var y=this;return new Wk(y.$24n.clone(),y.$22n.clone(),y.uv?y.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(k,Z){var P=this;return new Wk(P.$24n.lerp(k.$24n,Z),P.$22n.lerp(k.$22n,Z),P.uv?P.uv.lerp(k.uv,Z):null)}};var qo=function(d,y){this.$22n=d,this.w=y};qo.$17n=function(b,W,r){var g=W.$13n(b).$12n(r.$13n(b)).$14n();return new qo(g,g.$23n(b))},qo.prototype={clone:function(){return new qo(this.$22n.clone(),this.w)},flip:function(){var P=this;P.$22n=P.$22n.$11n(),P.w=-P.w},$5n:function(k,V,j,G,D){for(var a=this,n=0,v=1,O=2,F=3,$=0,J=[],Q=0;Q<k.$9n.length;Q++){var M=a.$22n.$23n(k.$9n[Q].$24n)-a.w,q=-B>M?O:M>B?v:n;$|=q,J.push(q)}switch($){case n:(a.$22n.$23n(k.$8n.$22n)>0?V:j).push(k);break;case v:G.push(k);break;case O:D.push(k);break;case F:for(var C=[],w=[],Q=0;Q<k.$9n.length;Q++){var l=(Q+1)%k.$9n.length,U=J[Q],K=J[l],h=k.$9n[Q],y=k.$9n[l];if(U!=O&&C.push(h),U!=v&&w.push(U!=O?h.clone():h),(U|K)==F){var M=(a.w-this.$22n.$23n(h.$24n))/a.$22n.$23n(y.$24n.$13n(h.$24n)),g=h.$18n(y,M);C.push(g),w.push(g.clone())}}C.length>=3&&G.push(new zb(C,k.$10n)),w.length>=3&&D.push(new zb(w,k.$10n))}}};var zb=function(y,C){var H=this;H.$9n=y,H.$10n=C,H.$8n=qo.$17n(y[0].$24n,y[1].$24n,y[2].$24n)};zb.prototype={clone:function(){var f=this.$9n.map(function(A){return A.clone()});return new zb(f,this.$10n)},flip:function(){this.$9n.reverse().map(function(K){K.flip()}),this.$8n.flip()}};var hm=function(j){var H=this;H.$8n=null,H.front=null,H.back=null,H.$4n=[],j&&H.$7n(j)};hm.prototype={clone:function(){var f=this,I=new hm;return I.$8n=f.$8n&&f.$8n.clone(),I.front=f.front&&f.front.clone(),I.back=f.back&&f.back.clone(),I.$4n=f.$4n.map(function(z){return z.clone()}),I},$6n:function(){for(var A=this,Z=0;Z<A.$4n.length;Z++)A.$4n[Z].flip();A.$8n.flip(),A.front&&A.front.$6n(),A.back&&A.back.$6n();var i=A.front;A.front=A.back,A.back=i},$1n:function(S){var u=this;if(!u.$8n)return S.slice();for(var p=[],v=[],V=0;V<S.length;V++)u.$8n.$5n(S[V],p,v,p,v);return u.front&&(p=u.front.$1n(p)),v=u.back?u.back.$1n(v):[],p.concat(v)},$3n:function(x){var Z=this;Z.$4n=x.$1n(Z.$4n),Z.front&&Z.front.$3n(x),Z.back&&Z.back.$3n(x)},$2n:function(){var E=this,d=E.$4n.slice();return E.front&&(d=d.concat(E.front.$2n())),E.back&&(d=d.concat(E.back.$2n())),d},$7n:function($){var R=this;if($.length){R.$8n||(R.$8n=$[0].$8n.clone());for(var l=[],i=[],j=0;j<$.length;j++)this.$8n.$5n($[j],R.$4n,R.$4n,l,i);l.length&&(R.front||(R.front=new hm),this.front.$7n(l)),i.length&&(R.back||(R.back=new hm),R.back.$7n(i))}}};var ji="symbol",ii=C.Symbol=function(p,g,d){var V=this;h(ii,V),V.s3(20,20,20),V.s({"all.visible":!1,shape:"rect"}),V.setIcon(p,g,d)};V("Symbol",r,{setIcon:function(D,e,f){var C,i=this;return ii.superClass.setIcon.call(i,D),D?(C={for3d:!0,face:"center",position:44,names:[D]},f&&(C.transaprent=!0),e&&(C.autorotate=e),i.addStyleIcon(ji,C)):i.removeStyleIcon(ji),i.setWidth(O.getImageWidth(L.getImage(D),i)||20),C}});var dj=C.CSGNode=function(){h(dj,this),this.s({shape:"rect","attach.thickness":1.001})},is={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};V("CSGNode",r,{_22Q:function(){return Cj},onPropertyChanged:function(b){var h=this,l=h.getHost();dj.superClass.onPropertyChanged.call(h,b),is[b.property]&&(l instanceof Pd||l instanceof dj)&&l.fp("csgNodeChange",!0,!1)}});var Cj=function(q,B){h(Cj,this,[q,B])};Y(Cj,S.Node3dUI,{_80o:function(D,I,Y){var x=this;x._shape3d?Cj.superClass._80o.call(x,D,I,Y):(E(x.gv),Sl.forEach(function(X){j(x,D,I,x[X],Y)}))},validate:function(g,$){var d=this,M=d.gv,b=d.data;if(b.s("shape3d"))return Cj.superClass.validate.call(d,g,$),d._shape3d=!0,void 0;d._shape3d=!1;var y=t(b,M.getMat(b)),A=g&&g.uv;d.vf2("csg",A);for(var V=0;6>V;V++)for(var i=Xj[V],n=kk[V],v=d.vf2(i,A,$),e=v.mat||y,U=v.vs,L=v.uv,h=v.tuv,Q=0;2>Q;Q++){var O=p[n+3*Q],l=p[n+3*Q+1],m=p[n+3*Q+2];if(Z(U,e,[W[3*O],W[3*O+1],W[3*O+2]]),Z(U,e,[W[3*l],W[3*l+1],W[3*l+2]]),Z(U,e,[W[3*m],W[3*m+1],W[3*m+2]]),h)if(L){var u=8*V;h.push(L[2*O-u],L[2*O+1-u],L[2*l-u],L[2*l+1-u],L[2*m-u],L[2*m+1-u])}else h.push(D[2*O],D[2*O+1],D[2*l],D[2*l+1],D[2*m],D[2*m+1])}ok(d,g,$)},vf2:function(V,B,m){var f,j=this,Z=j.gv.getFaceVisible(j.data,V);return f=g(j,V,m),f.vs=[],f.tuv=Z&&(f.texture||B)?[]:x,f.visible=Z,f}});var Pd=C.CSGShape=function(){var e=this;h(Pd,e),e.s({"shape.background":x,"shape.border.width":8}),e.setTall(240),e.setElevation(120),e.setThickness(14)};V("CSGShape",e,{IRotatable:!1,_22Q:function(){return Fk},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var Fk=function(Q,L){h(Fk,this,[Q,L])};Y(Fk,S.Shape3dUI,{_80o:function(J,Z,t){var I=this;I.undrawable||(E(I.gv),Sl.forEach(function(f){j(I,J,Z,I[f],t)}))},validate:function(c,T){var A=this,t=A.data,f=t.getPoints();if(A.undrawable=f.size()<2)return A.clear(),void 0;var U=t.isClosePath(),q=m(t._thickness/2,B),V=a(f,x,x,U);Sl.forEach(function(d){A.vf(d,c&&c.uv,!0,T)}),U&&(A.left.visible=!1,A.right.visible=!1),A._12O(V,q),A._20Q(V),ok(A,c,T)}});var Ni=C.DoorWindow=function(){var K=this;h(Ni,K),K.setElevation(100),K.s3(100,200,14)};V("DoorWindow",dj,{IDoorWindow:!0,toggle:function(m){this.setExpanded(!this.s(I),m)},isExpanded:function(){return this.s(I)},setExpanded:function(N,M){var k,r=this,h=r.$25n,H=r.getDataModel(),J=r.s(I);if(H&&(k=H.getHistoryManager()),h&&(h.stop(!0),delete r.$25n),J!==N){k&&k.beginInteraction();var K=N?r.s("dw.end"):r.s("dw.start");r.s(I,N),M=q(M),M?(J=r.s(u),M.action=function(k){r.s(u,J+(K-J)*k)},M.finishFunc=function(){k&&k.endInteraction()},r.$25n=U(M)):(r.s(u,K),k&&k.endInteraction())}},getMat:function(){var g=this,T=g.s("dw.s3"),j=g.s("dw.t3"),U=g.s("dw.flip"),I=g.s(u);if(T||I||j||U){var d=[];if(U&&d.push({r3:[0,A,0]}),T&&d.push({s3:T}),I){T=g.s3();var e=g.s("dw.axis"),O=T[0]/2,i=T[1]/2;T[2]/2,e===R?d.push({t3:[O,0,0]},{r3:[0,-I,0]},{t3:[-O,0,0]}):e===b?d.push({t3:[-O,0,0]},{r3:[0,I,0]},{t3:[O,0,0]}):e===Q?d.push({t3:[0,-i,0]},{r3:[-I,0,0]},{t3:[0,i,0]}):e===$?d.push({t3:[0,i,0]},{r3:[I,0,0]},{t3:[0,-i,0]}):e===X?d.push({r3:[0,I,0]}):e===v&&d.push({r3:[I,0,0]})}return j&&d.push({t3:j}),N(d)}return x}});var gs=C.CSGBox=function(){var S=this;h(gs,S),S.setElevation(100),S.s3(100,200,100)};V("CSGBox",dj,{ICSGBox:!0,toggleFace:function(F,_){this.setFaceExpanded(F,!this.s(F+y),_)},isFaceExpanded:function(b){return this.s(b+y)},setFaceExpanded:function(I,c,x){var $=this,S=$.$25n,p=$.s(I+y);if(S&&(S.stop(!0),delete $.$25n),p!==c){var J=c?$.s(I+".end"):$.s(I+".start");$.s(I+y,c),x=q(x),x?(p=$.s(I+_),x.action=function(f){$.s(I+_,p+(J-p)*f)},$.$25n=U(x)):$.s(I+_,J)}},getFaceMat:function(E){var P=this,Z=P.s(E+_);if(!Z)return x;var Y=P.s(E+".axis"),d=P.s3(),T=d[0]/2,k=d[1]/2,I=d[2]/2,t=[];return E===s&&(Y===R?t.push({t3:[T,0,-I]},{r3:[0,-Z,0]},{t3:[-T,0,I]}):Y===b?t.push({t3:[-T,0,-I]},{r3:[0,Z,0]},{t3:[T,0,I]}):Y===Q?t.push({t3:[0,-k,-I]},{r3:[-Z,0,0]},{t3:[0,k,I]}):Y===$?t.push({t3:[0,k,-I]},{r3:[Z,0,0]},{t3:[0,-k,I]}):Y===X?t.push({t3:[0,0,-I]},{r3:[0,Z,0]},{t3:[0,0,I]}):Y===v&&t.push({t3:[0,0,-I]},{r3:[Z,0,0]},{t3:[0,0,I]})),E===n&&(Y===R?t.push({t3:[-T,0,I]},{r3:[0,-Z,0]},{t3:[T,0,-I]}):Y===b?t.push({t3:[T,0,I]},{r3:[0,Z,0]},{t3:[-T,0,-I]}):Y===Q?t.push({t3:[0,-k,I]},{r3:[Z,0,0]},{t3:[0,k,-I]}):Y===$?t.push({t3:[0,k,I]},{r3:[-Z,0,0]},{t3:[0,-k,-I]}):Y===X?t.push({t3:[0,0,I]},{r3:[0,Z,0]},{t3:[0,0,-I]}):Y===v&&t.push({t3:[0,0,I]},{r3:[Z,0,0]},{t3:[0,0,-I]})),E===R&&(Y===R?t.push({t3:[T,0,I]},{r3:[0,-Z,0]},{t3:[-T,0,-I]}):Y===b?t.push({t3:[T,0,-I]},{r3:[0,Z,0]},{t3:[-T,0,I]}):Y===Q?t.push({t3:[T,-k,0]},{r3:[0,0,-Z]},{t3:[-T,k,0]}):Y===$?t.push({t3:[T,k,0]},{r3:[0,0,Z]},{t3:[-T,-k,0]}):Y===X?t.push({t3:[T,0,0]},{r3:[0,Z,0]},{t3:[-T,0,0]}):Y===v&&t.push({t3:[T,0,0]},{r3:[0,0,Z]},{t3:[-T,0,0]})),E===b&&(Y===R?t.push({t3:[-T,0,-I]},{r3:[0,-Z,0]},{t3:[T,0,I]}):Y===b?t.push({t3:[-T,0,I]},{r3:[0,Z,0]},{t3:[T,0,-I]}):Y===Q?t.push({t3:[-T,-k,0]},{r3:[0,0,Z]},{t3:[T,k,0]}):Y===$?t.push({t3:[-T,k,0]},{r3:[0,0,-Z]},{t3:[T,-k,0]}):Y===X?t.push({t3:[-T,0,0]},{r3:[0,Z,0]},{t3:[T,0,0]}):Y===v&&t.push({t3:[-T,0,0]},{r3:[0,0,Z]},{t3:[T,0,0]})),E===Q&&(Y===R?t.push({t3:[T,-k,0]},{r3:[0,0,Z]},{t3:[-T,k,0]}):Y===b?t.push({t3:[-T,-k,0]},{r3:[0,0,-Z]},{t3:[T,k,0]}):Y===Q?t.push({t3:[0,-k,I]},{r3:[-Z,0,0]},{t3:[0,k,-I]}):Y===$?t.push({t3:[0,-k,-I]},{r3:[Z,0,0]},{t3:[0,k,I]}):Y===X?t.push({t3:[0,-k,0]},{r3:[0,0,Z]},{t3:[0,k,0]}):Y===v&&t.push({t3:[0,-k,0]},{r3:[Z,0,0]},{t3:[0,k,0]})),E===$&&(Y===R?t.push({t3:[T,k,0]},{r3:[0,0,-Z]},{t3:[-T,-k,0]}):Y===b?t.push({t3:[-T,k,0]},{r3:[0,0,Z]},{t3:[T,-k,0]}):Y===Q?t.push({t3:[0,k,-I]},{r3:[-Z,0,0]},{t3:[0,-k,I]}):Y===$?t.push({t3:[0,k,I]},{r3:[Z,0,0]},{t3:[0,-k,-I]}):Y===X?t.push({t3:[0,k,0]},{r3:[0,0,Z]},{t3:[0,-k,0]}):Y===v&&t.push({t3:[0,k,0]},{r3:[Z,0,0]},{t3:[0,-k,0]})),N(t)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);