!function(r){"use strict";var G="ht",o=r[G],b=o.Default,S=Math,z=(S.PI,S.sin,S.cos,S.atan2,S.sqrt,S.max),y=S.floor,m=(S.round,S.ceil),s=o.Shape,A=(o.Edge,o.List),w=o.Style,H=o.graph,F=b.getInternal(),Z=F.ui(),B=null,u="prototype",Y=r.clearInterval,k=r.setInterval,h=function(C){var V=C.data,A=this.dm();if(V&&"add"===C.kind){var N=A.$1c,G=V instanceof s?"shape.":"edge.";N&&V.s(G+"dash.flow")&&N.indexOf(V)<0&&N.push(V)}"clear"===C.kind&&(A.$1c=[])},v=function(T){var m=T.property,w=T.data,k=T.newValue,N=this.dm().$1c,j=w instanceof s?"s:shape.dash.flow":"s:edge.dash.flow";if(N&&m===j)if(k)N.indexOf(w)<0&&N.push(w);else for(var y=N.length,$=0;y>$;$++)if(N[$]===w){N.splice($,1);break}},d=H.GraphView[u],I=Z.EdgeUI[u],_=Z.ShapeUI[u],X=_._80o,R=I._80o,$=o.DataModel[u],C=$.prepareRemove,Q=d.setDataModel;w["edge.dash.flow.step"]==B&&(w["edge.dash.flow.step"]=3),w["shape.dash.flow.step"]==B&&(w["shape.dash.flow.step"]=3),$.prepareRemove=function(P){C.call(this,P);var s=P._dataModel,q=s.$1c;if(q)for(var M=q.length,e=0;M>e;e++)if(q[e]===P){q.splice(e,1);break}},d.setDataModel=function(u){var X=this,f=X._dataModel;if(f!==u){f&&(f.umm(h,X),f.umd(v,X),f.$1c=[]),u.mm(h,X),u.md(v,X);var d=u.$1c=[];u.each(function($){var W=$ instanceof s?"shape.":"edge.";$.s(W+"dash.flow")&&d.indexOf($)<0&&d.push($)}),Q.call(X,u)}},d.setDashFlowInterval=function(I){var k=this,g=k.$2c;k.$2c=I,k.fp("dashFlowInterval",g,I),k.$3c!=B&&(Y(k.$3c),delete k.$3c,k.enableDashFlow(I))},d.getDashFlowInterval=function(){return this.$2c},d.$4c=function(){var S,i,W,d=this,k=d.tx(),j=d.ty(),Q=d._zoom,c=d.getWidth(),G=d.getHeight(),D={x:-k/Q,y:-j/Q,width:c/Q,height:G/Q},V=d.dm().$1c,_=d._56I,x=new A;if(V.forEach(function(b){_[b.getId()]&&(S=d.getDataUI(b),S&&(W=S._79o(),W&&x.add(W)))}),0!==x.size()&&(x.each(function(k){b.intersectsRect(D,k)&&(i=b.unionRect(i,k))}),i&&(i&&(b.grow(i,z(1,1/Q)),i.x=y(i.x*Q)/Q,i.y=y(i.y*Q)/Q,i.width=m(i.width*Q)/Q,i.height=m(i.height*Q)/Q,i=b.intersection(D,i)),i))){var B=d._canvas.getContext("2d");B.save(),B.lineCap=b.lineCap,B.lineJoin=b.lineJoin,F.translateAndScale(B,k,j,Q),B.beginPath(),B.rect(i.x,i.y,i.width,i.height),B.clip(),B.clearRect(i.x,i.y,i.width,i.height),d.$5c(B,i),B.restore()}},d.$5c=function(V,y){var I,J,g=this;g._93db(V),g.each(function(j){g._56I[j._id]&&(I=g.getDataUI(j),I&&(J=I._79o(),(!y||b.intersectsRect(y,J))&&(I.$7c=!0,I._42(V),delete I.$7c)))}),g._92db(V)},d.enableDashFlow=function(Y){var x=this;x.$3c==B&&(x.$3c=k(function(){x.$4c()},Y||x.$2c||50))},d.disableDashFlow=function(){var C=this;Y(C.$3c),delete C.$3c};var p=function(){var r=this,_=r._data,g=_ instanceof s?"shape.":"edge.",w=_.s(g+"dash.pattern"),K=_.s(g+"dash.flow.reverse");if(w&&_.s(g+"dash")&&_.s(g+"dash.flow")&&r.$7c){var j=r.s(g+"dash.offset")||0,i=_.s(g+"dash.flow.step"),D=_.getStyleMap(),Q=0;w.forEach(function(C){Q+=C}),K&&(i=-i),j-=i,j%=Q,D||(_._styleMap=D={}),D[g+"dash.offset"]=j}};I._80o=function(f){R.call(this,f),p.call(this)},_._80o=function(G){X.call(this,G),p.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);